<!doctype html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>보라해 BORAHAE - I Purple You | K-pop 팬 라이프스타일</title>
  <!-- Favicons (image/favicon 폴더) -->
  <link rel="icon" type="image/x-icon" href="image/favicon/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="image/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="image/favicon/favicon-16x16.png">
  <link rel="icon" type="image/png" sizes="96x96" href="image/favicon/favicon-96x96.png">
  <link rel="apple-touch-icon" sizes="180x180" href="image/favicon/apple-icon-180x180.png">
  <link rel="apple-touch-icon" sizes="152x152" href="image/favicon/apple-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="144x144" href="image/favicon/apple-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="120x120" href="image/favicon/apple-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="114x114" href="image/favicon/apple-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="76x76" href="image/favicon/apple-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="72x72" href="image/favicon/apple-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="60x60" href="image/favicon/apple-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="57x57" href="image/favicon/apple-icon-57x57.png">
  <link rel="manifest" href="image/favicon/manifest.json">
  <meta name="msapplication-TileColor" content="#7c3aed">
  <meta name="msapplication-config" content="image/favicon/browserconfig.xml">
  <link href="style.css?v=demologo3" rel="stylesheet">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700;900&family=Noto+Serif+KR:wght@300;400;500;600;700&family=Playfair+Display:wght@400;700&family=Nanum+Pen+Script&family=Gamja+Flower&family=Hi+Melody&display=swap" rel="stylesheet">
</head>
<body>
  <!-- 메인 배경 영상: movie/soave1.mp4 (11MB). 배포 시 빌드가 dist에 movie/ 포함해야 함. R2 등 절대 URL은 SOAVE_VIDEO_URL에 지정 -->
  <script>
  window.SOAVE_VIDEO_URL = 'movie/soave1.mp4';
  function applySoaveVideoUrl(){
    var url = window.SOAVE_VIDEO_URL;
    if (!url || typeof url !== 'string' || !url.trim()) return;
    var hVideo = document.getElementById('hero-soave-video');
    var eVideo = document.getElementById('name-episodes-soave-video');
    function hideHeroVideo(){ if (hVideo) hVideo.style.display = 'none'; }
    function hideEpisodesVideo(){ if (eVideo) eVideo.style.display = 'none'; }
    if (hVideo) {
      hVideo.src = url; hVideo.style.display = 'block';
      hVideo.addEventListener('error', hideHeroVideo, { once: true });
    }
    if (eVideo) {
      eVideo.src = url; eVideo.style.display = 'block';
      eVideo.addEventListener('error', hideEpisodesVideo, { once: true });
    }
  }
  if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', applySoaveVideoUrl);
  else applySoaveVideoUrl();
  </script>
  <script>
  window.BGM_PLAYLIST = [
    'music/보라빛 신호.mp3',
    'music/LOVE ARMY.mp3',
    'music/lovearmy1.mp3',
    'music/lovearmy2.mp3',
    'music/lovearmy3.mp3',
    'music/lovearmy4.mp3'
  ];
  </script>
  <!-- 전역 배경음 (보라빛 신호 + LOVE ARMY 2곡 무한 루프) -->
  <audio id="global-bgm" preload="none" aria-hidden="true"></audio>
  <!-- Navigation -->
  <nav class="navbar">
    <div class="nav-container">
      <a href="#" class="logo" aria-label="BORAHAE 홈">
        <img src="image/logo.png" alt="BORAHAE" class="logo-img logo-img-light" width="140" height="40">
        <img src="image/logo_dark.png" alt="BORAHAE" class="logo-img logo-img-dark" width="140" height="40">
      </a>
      <div class="nav-links">
        <a href="#styling" data-i18n="nav.play">PLAY (일깨우기)</a>
        <a href="#lightstick" data-i18n="nav.create">CREATE (짓기)</a>
        <a href="#shop" data-i18n="nav.store">STORE (간직하기)</a>
      </div>
      <div class="nav-actions">
        <div class="lang-toggle" aria-label="Language">
          <button type="button" id="lang-ko" class="lang-btn active" title="한국어">KO</button>
          <button type="button" id="lang-en" class="lang-btn" title="English">EN</button>
        </div>
        <button id="theme-toggle" class="theme-toggle" aria-label="Toggle theme">
          <span class="icon-sun">&#9728;</span>
          <span class="icon-moon">&#9790;</span>
        </button>
        <button type="button" id="bgm-toggle" class="bgm-toggle-nav" aria-label="배경음 듣기" title="배경음 듣기">BGM 듣기</button>
        <div id="auth-nav-guest" class="auth-nav">
          <button type="button" id="nav-login-btn" class="btn-primary" data-i18n="nav.login">로그인</button>
        </div>
        <div id="auth-nav-user" class="auth-nav" style="display: none;">
          <span id="auth-user-email" class="auth-user-email"></span>
          <button type="button" id="nav-mypage-btn" class="btn-outline btn-sm" data-i18n="nav.mypage">마이페이지</button>
          <button type="button" id="nav-logout-btn" class="btn-outline btn-sm" data-i18n="nav.logout">로그아웃</button>
        </div>
      </div>
      <button class="mobile-menu-btn" aria-label="Menu">
        <span></span>
        <span></span>
        <span></span>
      </button>
    </div>
  </nav>

  <!-- Hero Section -->
  <section class="hero">
    <div class="hero-bg">
      <div class="hero-soave-bg" id="hero-soave-bg" aria-hidden="true"></div>
      <video id="hero-soave-video" class="hero-soave-video" muted loop playsinline autoplay aria-hidden="true" style="display:none"></video>
      <div class="hero-gradient"></div>
      <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
      </div>
    </div>
    <div class="hero-content">
      <div class="hero-badge" data-i18n="hero.badge">Borahae Life Navigation</div>
      <p class="hero-tagline" data-i18n="hero.tagline">Discover. Build. Navigate.</p>
      <h1 class="hero-title">
        <span class="title-line" data-i18n="hero.title_line">나를 발견하고, 세상을 짓고, 미래를 비추다.</span>
        <span class="title-highlight" data-i18n="hero.title_highlight">Borahae Life Navigation</span>
      </h1>
      <p class="hero-description" data-i18n-html="hero.desc">
        이름과 생일 속에 숨겨진 고유한 <strong>나(Me)</strong>를 발견하고,<br>
        영감으로 <strong>나만의 우주(Space)</strong>를 건축하며,<br>
        미래의 기술로 당신의 삶을 <strong>인도(Navigate)</strong>합니다.
      </p>
      <div class="hero-cta">
        <button class="btn-primary btn-large">
          <span data-i18n="hero.cta_start">무료로 시작하기</span>
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M5 12h14M12 5l7 7-7 7"/>
          </svg>
        </button>
        <a href="#services" class="btn-secondary btn-large">
          <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <path d="M12 2a10 10 0 1 0 10 10A10 10 0 0 0 12 2zM12 16v-4M12 8h.01"/>
          </svg>
          <span data-i18n="hero.cta_explore">서비스 둘러보기</span>
        </a>
      </div>
      <div class="hero-stats">
        <div class="stat">
          <span class="stat-number">50K+</span>
          <span class="stat-label" data-i18n="hero.stat_users">보라해 팬</span>
        </div>
        <div class="stat">
          <span class="stat-number">10K+</span>
          <span class="stat-label" data-i18n="hero.stat_goods">굿즈 아이템</span>
        </div>
        <div class="stat">
          <span class="stat-number">1M+</span>
          <span class="stat-label" data-i18n="hero.stat_styles">스타일링 완성</span>
        </div>
      </div>
    </div>
    <div class="hero-visual">
      <div class="phone-mockup">
        <div class="phone-mockup-glow" aria-hidden="true"></div>
        <div class="phone-screen">
          <div class="app-header">
            <span class="app-header-title" data-i18n="hero.phone_title">보라해 스타일링</span>
            <span class="app-header-sub" data-i18n="hero.phone_sub">나만의 K-pop 코디</span>
          </div>
          <div id="soave-showcase-wrap" class="soave-showcase-wrap" data-soave-mood="neutral">
            <div class="fashion-showcase soave-video-showcase">
              <video id="soave-hero-video" autoplay muted playsinline
                     class="soave-hero-video">
              </video>
              <div class="soave-video-overlay" id="soave-video-overlay">
                <div class="soave-video-loader"></div>
              </div>
            </div>
          </div>
          <div class="fashion-indicators soave-video-indicators" aria-hidden="true">
            <button class="soave-nav-btn soave-nav-prev" id="soave-nav-prev" title="이전 영상">‹</button>
            <button class="soave-mute-btn" id="soave-mute-btn" title="소리 켜기">🔇</button>
            <span class="soave-video-counter" id="soave-video-counter"></span>
            <button class="soave-nav-btn soave-nav-next" id="soave-nav-next" title="다음 영상">›</button>
          </div>
          <div id="hero-soave-cta" class="ai-suggestion" role="button" tabindex="0" aria-label="소아베와 대화 시작">
            <div id="hero-soave-cta-default" class="ai-suggestion-default">
              <div class="ai-icon" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="currentColor" width="14" height="14" style="width:14px;height:14px;">
                  <path d="M22.282 9.821a5.985 5.985 0 0 0-.516-4.91 6.046 6.046 0 0 0-6.51-2.9A6.065 6.065 0 0 0 4.981 4.18a5.998 5.998 0 0 0-3.998 2.9 6.042 6.042 0 0 0 .743 7.097 5.98 5.98 0 0 0 .51 4.911 6.051 6.051 0 0 0 6.515 2.9A5.985 5.985 0 0 0 13.26 24a6.056 6.056 0 0 0 5.772-4.206 5.99 5.99 0 0 0 3.997-2.9 6.056 6.056 0 0 0-.747-7.073zM13.26 22.43a4.476 4.476 0 0 1-2.876-1.04l.141-.081 4.779-2.758a.795.795 0 0 0 .392-.681v-6.737l2.02 1.168a.071.071 0 0 1 .038.052v5.583a4.504 4.504 0 0 1-4.494 4.494zM3.6 18.304a4.47 4.47 0 0 1-.535-3.014l.142.085 4.783 2.759a.771.771 0 0 0 .78 0l5.843-3.369v2.332a.08.08 0 0 1-.033.062L9.74 19.95a4.5 4.5 0 0 1-6.14-1.646zM2.34 7.896a4.485 4.485 0 0 1 2.366-1.973V11.6a.766.766 0 0 0 .388.676l5.815 3.355-2.02 1.168a.076.076 0 0 1-.071 0l-4.83-2.786A4.504 4.504 0 0 1 2.34 7.872zm16.597 3.855l-5.833-3.387L15.119 7.2a.076.076 0 0 1 .071 0l4.83 2.791a4.494 4.494 0 0 1-.676 8.105v-5.678a.79.79 0 0 0-.407-.667zm2.01-3.023l-.141-.085-4.774-2.782a.776.776 0 0 0-.785 0L9.409 9.23V6.897a.066.066 0 0 1 .028-.061l4.83-2.787a4.5 4.5 0 0 1 6.68 4.66zm-12.64 4.135l-2.02-1.164a.08.08 0 0 1-.038-.057V6.075a4.5 4.5 0 0 1 7.375-3.453l-.142.08L8.704 5.46a.795.795 0 0 0-.393.681zm1.097-2.365l2.602-1.5 2.607 1.5v2.999l-2.597 1.5-2.607-1.5z"/>
                </svg>
              </div>
              <span class="ai-suggestion-text" data-i18n-html="hero.ai_suggestion"><strong>OpenAI</strong>와 시작하는 보라빛 세계<br>지금 시작하세요</span>
              <div class="ai-icon ai-icon-right" aria-hidden="true">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.2" stroke-linecap="round" stroke-linejoin="round" width="14" height="14" style="width:14px;height:14px;">
                  <path d="M12 19V5M5 12l7-7 7 7"/>
                </svg>
              </div>
            </div>
            <div id="hero-soave-chat-preview" class="soave-chat-preview" style="display:none;">
              <div class="soave-chat-preview-inner">
                <p class="soave-chat-preview-user" id="hero-soave-preview-user"></p>
                <p class="soave-chat-preview-assistant" id="hero-soave-preview-assistant"></p>
              </div>
              <span class="soave-chat-preview-hint">터치하면 대화 계속하기</span>
            </div>
          </div>
          <div id="soave-voice-hint" class="soave-voice-hint" style="display:none;" aria-live="polite">말해보세요 🎤</div>
        </div>
      </div>
    </div>
  </section>
  <script>
  (function(){
    var el = document.getElementById('hero-soave-bg');
    if (!el) return;
    var origin = window.location.origin || '';
    var url = origin + '/image/soave/background1.jpeg';
    el.style.backgroundImage = "url('" + url + "')";
  })();
  </script>

  <!-- BORAHAE 3.0: 3대 핵심 서비스 -->
  <section id="services" class="features">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="features.badge">BORAHAE UNIVERSE</span>
        <h2 class="section-title" data-i18n="features.title">어제보다 더 나를 사랑하는 방법</h2>
        <p class="section-description" data-i18n="features.desc">믿음과 사랑으로 끝까지 함께하는 보라해(Borahae)의 약속</p>
      </div>
      <div class="features-grid">
        <div class="feature-card hangeul-persona-card">
          <div class="feature-card-image">
            <img src="image/soave/play.jpeg" alt="한글 페르소나">
          </div>
          <div class="feature-card-content">
            <h3 data-i18n="features.pillar1_title">한글 페르소나</h3>
            <p data-i18n="features.pillar1_desc">이름 속에 깃든 다채로운 페르소나와 당신만의 고유한 서사를 일깨우고, 그에 어울리는 최적의 스타일을 발견합니다.</p>
            <p style="margin-top:12px;"><a href="#styling" class="btn-outline btn-sm feature-card-cta" data-i18n="features.pillar1_btn">일깨우기 · PLAY</a></p>
          </div>
        </div>
        <div class="feature-card magic-shop-card">
          <div class="feature-card-image">
            <img src="image/soave/masic.jpg" alt="매직샵">
          </div>
          <div class="feature-card-content">
            <h3 data-i18n="features.pillar2_title">매직샵</h3>
            <p data-i18n="features.pillar2_desc">음악(MIDI)이 머무는 안식처를 짓고, 그 공간의 열쇠가 되는 나만의 응원봉(기억의 등불)을 밝힙니다</p>
            <p style="margin-top:12px;"><a href="#lightstick" class="btn-outline btn-sm feature-card-cta" data-i18n="features.pillar2_btn">짓기 · CREATE</a></p>
          </div>
        </div>
        <div class="feature-card bora-goods-card">
          <div class="feature-card-image">
            <img src="image/soave/teros.jpg" alt="보라 굿즈">
          </div>
          <div class="feature-card-content">
            <h3 data-i18n="features.pillar3_title">보라 굿즈</h3>
            <p data-i18n="features.pillar3_desc">일궈낸 페르소나와 안식처를 일상의 빛으로 소장하세요. 워치페이스부터 실물 굿즈까지 당신의 세계를 간직합니다.</p>
            <p style="margin-top:12px;"><a href="#shop" class="btn-outline btn-sm feature-card-cta" data-i18n="features.pillar3_btn">간직하기 · STORE</a></p>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 원클릭 하이패스: 이름·생년월일·사진만 넣으면 런웨이 한 편 -->
  <section id="oneclick-runway" class="oneclick-highpass">
    <div class="container">
      <div class="section-header">
        <span class="section-badge oneclick-badge" data-i18n="oneclick.badge">원클릭</span>
        <h2 class="section-title" data-i18n="oneclick.title">당신만의 런웨이 한 편</h2>
        <p class="section-description" data-i18n="oneclick.desc">샘플 얼굴과 배경을 선택하면 — 나만의 건축 배경 위를 걸어가는 런웨이를 만나볼 수 있어요.</p>
      </div>
      <div class="oneclick-form-wrap">
        <div class="oneclick-form">
          <span class="oneclick-label" data-i18n="oneclick.face_label">샘플 얼굴 선택</span>
          <p class="oneclick-face-hint" data-i18n="oneclick.face_hint">런웨이에 쓸 얼굴을 골라 주세요.</p>
          <div class="oneclick-face-samples" role="group" aria-label="샘플 얼굴 선택">
            <button type="button" class="oneclick-face-option" id="oneclick-face-female" data-face="female" aria-pressed="false">
              <img src="image/human/soave.jpg" alt="여자 샘플 (soave)" loading="lazy" onerror="this.onerror=null; this.src='image/human/soave.png';">
              <span data-i18n="oneclick.face_female">여자</span>
            </button>
            <button type="button" class="oneclick-face-option" id="oneclick-face-male" data-face="male" aria-pressed="false">
              <img src="image/human/ian.jpg" alt="남자 샘플 (ian)" loading="lazy" onerror="this.onerror=null; this.src='image/human/ian.png';">
              <span data-i18n="oneclick.face_male">남자</span>
            </button>
          </div>
          <label for="oneclick-photo" class="oneclick-label" data-i18n="oneclick.photo_label">내 사진 업로드</label>
          <p class="oneclick-face-hint" data-i18n="oneclick.photo_hint">직접 올리면 샘플 대신 내 사진으로 런웨이를 만들 수 있어요. 인터넷 이미지 주소(URL)로도 불러올 수 있어요.</p>
          <div class="oneclick-photo-area">
            <div class="oneclick-dropzone">
              <input type="file" id="oneclick-photo" class="oneclick-file" accept="image/*" aria-label="사진 업로드">
              <span class="oneclick-photo-hint" id="oneclick-photo-hint" data-i18n="oneclick.photo_placeholder">본인 사진을 선택하세요!</span>
            </div>
            <div class="oneclick-photo-url-wrap">
              <input type="url" id="oneclick-photo-url" class="oneclick-photo-url-input" placeholder="이미지 주소(URL) 붙여넣기" aria-label="이미지 URL" data-i18n-placeholder="oneclick.photo_url_placeholder">
              <button type="button" id="oneclick-photo-url-btn" class="oneclick-photo-url-btn" data-i18n="oneclick.photo_url_btn">불러오기</button>
            </div>
            <div id="oneclick-photo-preview" class="oneclick-photo-preview" style="display:none;">
              <img id="oneclick-preview-img" src="" alt="선택한 사진">
            </div>
          </div>
          <div class="oneclick-background-wrap">
            <label class="oneclick-label" data-i18n="oneclick.gallery_label">뮤직비디오 대표 갤러리</label>
            <p class="oneclick-background-desc" data-i18n="oneclick.background_desc">배경을 선택하면 해당 배경 위의 런웨이 샘플을 만나볼 수 있어요.</p>
            <div id="oneclick-background-list" class="oneclick-background-list" role="group" aria-label="뮤직비디오 대표 갤러리"></div>
          </div>
          <button type="button" id="oneclick-runway-btn" class="btn-primary oneclick-cta" data-login-required aria-label="런웨이 한 편 만들기" data-i18n="oneclick.runway_btn">런웨이 한 편 만들기</button>
          <div id="oneclick-runway-result" class="oneclick-runway-result" style="display: none;">
            <div class="oneclick-runway-result-header">
              <h4 class="oneclick-runway-result-title" data-i18n="oneclick.result_title">런웨이 결과</h4>
              <button type="button" id="oneclick-runway-save-image-btn" class="btn-secondary oneclick-runway-save-btn oneclick-runway-save-image-btn" style="display: none;" data-i18n="oneclick.save_image_btn">이미지 저장</button>
              <button type="button" id="oneclick-runway-email-btn" class="btn-secondary oneclick-runway-save-btn" style="display: none;" data-i18n="oneclick.email_btn">📧 이메일로 보내기</button>
            </div>
            <div id="oneclick-runway-result-image-wrap" class="oneclick-runway-result-image-wrap" style="display: none;">
              <img id="oneclick-runway-result-image" src="" alt="런웨이 합성" class="oneclick-runway-result-image">
            </div>
            <div id="oneclick-runway-result-video-wrap" class="oneclick-runway-result-video-wrap" style="display: none;">
              <div id="oneclick-runway-video-loading" class="oneclick-runway-video-loading" style="display: none;" aria-live="polite">
                <div class="oneclick-runway-video-loading-spinner"></div>
                <p class="oneclick-runway-video-loading-text" data-i18n="oneclick.video_loading">영상 생성 중입니다. 1~2분 정도 걸릴 수 있어요...</p>
              </div>
              <video id="oneclick-runway-result-video" class="oneclick-runway-result-video" controls playsinline></video>
            </div>
            <p id="oneclick-runway-result-status" class="oneclick-runway-result-status"></p>
            <div class="oneclick-runway-result-actions">
              <button type="button" id="oneclick-runway-video-btn" class="btn-primary oneclick-runway-video-btn" style="display: none;" data-i18n="oneclick.video_btn">영상으로 만들기</button>
              <button type="button" id="oneclick-runway-save-video-btn" class="btn-primary oneclick-runway-save-video-btn" style="display: none;" data-i18n="oneclick.save_video_btn">영상 저장</button>
            </div>
          </div>
        </div>
      </div>
      <p class="oneclick-notice" data-i18n="oneclick.notice">아래에서 이름·생일·스타일링을 하나씩 체험해 보실 수도 있어요.</p>
    </div>
  </section>

  <!-- 영상 생성 중 비차단 플로팅 알림 (페이지 이용 가능) -->
  <div id="video-generating-toast" class="video-generating-toast" role="status" aria-live="polite" aria-label="영상 생성 중">
    <div class="video-generating-toast-spinner"></div>
    <p class="video-generating-toast-text" data-i18n="video_toast.text">영상 생성 중입니다. 1~2분 소요. 완료되면 알려드려요.</p>
  </div>

  <!-- 갤러리 샘플 영상 재생 모달 -->
  <div id="oneclick-gallery-video-modal" class="oneclick-gallery-video-modal" role="dialog" aria-modal="true" aria-label="갤러리 샘플 영상" style="display: none;">
    <div class="oneclick-gallery-video-modal-backdrop"></div>
    <div class="oneclick-gallery-video-modal-content oneclick-gallery-video-modal-content--1x1">
      <button type="button" class="oneclick-gallery-video-close" aria-label="닫기">&times;</button>
      <div class="oneclick-gallery-video-wrap">
        <video id="oneclick-gallery-video" class="oneclick-gallery-video-player" controls playsinline></video>
      </div>
      <p id="oneclick-gallery-video-caption" class="oneclick-gallery-video-caption"></p>
    </div>
  </div>

  <!-- 안내: 구체적인 코너가 아래에 있음 -->
  <div class="detail-corners-intro" role="complementary">
    <p class="detail-corners-intro-text" data-i18n-html="detail_corners.intro_html">하나씩 만들어 가는 재미를 위해 <strong>아래에 구체적인 코너</strong>가 있습니다.</p>
    <a href="#styling" class="detail-corners-intro-link" data-i18n="detail_corners.intro_link">아래 코너로 이동 ↓</a>
  </div>

  <!-- PLAY: 한글 페르소나 — 1) 페르소나 발견 먼저, 2) 보라해 스타일링 시작·01/02/03 -->
  <section id="styling" class="ai-section">
    <div class="container">
      <header class="persona-header">
        <span class="section-badge" data-i18n="ai.badge">Chapter 1. Discovery</span>
        <h2 class="section-title" data-i18n-html="ai.title">세상에 단 하나뿐인<br>당신의 고유한 주파수를 찾습니다</h2>
        <p class="persona-subtitle" data-i18n="ai.subtitle">이름과 생일 속에 숨겨진 코드를 찾아, 진정한 나를 마주하는 첫 번째 여정입니다.</p>
      </header>
      <!-- 1순서: 이름에 숨은 한글 페르소나 (서사 만들기) + 오른쪽 미리보기 -->
      <div class="name-episodes-block">
        <p class="persona-connector" data-i18n="ai.connector">이름으로 일깨우는 나만의 페르소나 · 서사</p>
        <h3 class="name-episodes-title" data-i18n="ai.input_title">이름 속에 숨겨진 영혼의 자취</h3>
        <p class="name-episodes-desc" data-i18n="ai.input_desc">이름을 자음과 모음의 리듬으로 풀어내어, 당신의 본질을 투영하는 한글 페르소나들의 서사를 펼칩니다.</p>
        <div class="name-episodes-row name-episodes-row--two-col">
          <div class="name-episodes-left">
            <div class="name-episodes-input-corner">
              <label for="name-episodes-input" class="name-episodes-input-label" data-i18n="ai.input_label">영혼의 주파수를 입력하세요</label>
              <div class="name-episodes-input-row">
                <span class="name-episodes-input-icon" aria-hidden="true">✏️</span>
                <input type="text" id="name-episodes-input" class="name-episodes-input" placeholder="당신의 이름" data-i18n-placeholder="ai.input_placeholder" maxlength="20" aria-label="한글 또는 영어 이름 입력">
                <button type="button" id="name-episodes-btn" class="name-episodes-btn" data-login-required data-i18n="ai.btn_create" aria-label="서사 일깨우기">서사 일깨우기</button>
              </div>
              <p class="name-episodes-hint">이름을 입력한 뒤 버튼을 누르면 당신만의 페르소나가 깨어납니다. <span class="name-episodes-hint-en">For international visitors: enter your name in English.</span></p>
              <p class="name-episodes-examples">예시로 체험: <button type="button" class="btn-example-name" data-name="민수">민수</button> · <button type="button" class="btn-example-name" data-name="Michael">Michael</button></p>
            </div>
            <div id="name-episodes-result" class="name-episodes-result" style="display:none;">
          <p id="name-episodes-summary" class="name-episodes-summary" style="font-size:1.05rem;color:var(--text-secondary);margin-bottom:20px;"></p>
          <p class="name-episodes-strip-label" style="font-size:0.9rem;font-weight:600;color:var(--text-muted);margin-bottom:10px;" data-i18n="ai.result_summary">✨ 나만의 고유한 자아들</p>
          <div id="name-episodes-strip" class="name-episodes-strip"></div>
          <div id="name-episodes-story" class="name-episodes-story" style="display:none;margin-top:32px;padding:24px;background:var(--bg);border-radius:20px;border:2px solid var(--border);max-width:900px;">
            <h4 class="name-episodes-story-title" style="font-size:1.25rem;margin-bottom:20px;color:var(--text-primary);"></h4>
            <div class="name-episodes-story-body-wrap" style="margin-bottom:28px;">
              <p class="name-episodes-story-body-label" style="font-size:0.9rem;font-weight:600;color:var(--text-muted);margin-bottom:12px;" data-i18n="ai.result_story_label">📖 영혼의 기록 · 시나리오</p>
              <div class="name-episodes-story-body" style="font-size:0.95rem;line-height:1.65;color:var(--text-secondary);"></div>
            </div>
            <p class="name-episodes-cuts-label" style="font-size:0.9rem;font-weight:600;color:var(--text-muted);margin-bottom:12px;" data-i18n="ai.result_image_label">🖼 시나리오의 형상</p>
            <div id="name-episodes-cuts" class="name-episodes-cuts" style="display:grid;grid-template-columns:repeat(4,1fr);gap:16px;margin-bottom:24px;">
              <div class="name-episodes-cut" data-cut="1"><img class="name-episodes-cut-img" src="" alt="컷 1" /><p class="name-episodes-cut-caption"></p></div>
              <div class="name-episodes-cut" data-cut="2"><img class="name-episodes-cut-img" src="" alt="컷 2" /><p class="name-episodes-cut-caption"></p></div>
              <div class="name-episodes-cut" data-cut="3"><img class="name-episodes-cut-img" src="" alt="컷 3" /><p class="name-episodes-cut-caption"></p></div>
              <div class="name-episodes-cut" data-cut="4"><img class="name-episodes-cut-img" src="" alt="컷 4" /><p class="name-episodes-cut-caption"></p></div>
            </div>
            <div id="name-episodes-ai-image-block" class="name-episodes-ai-image-block" style="display:none;margin-top:24px;">
              <div id="name-episodes-actions-wrap" style="margin-top:20px;display:none;flex-wrap:wrap;gap:12px;align-items:center;">
                <button type="button" id="name-episodes-share-btn" class="btn-primary" style="font-size:0.95rem;" data-i18n="ai.share_insta">📷 보라빛 세계 공유하기</button>
              </div>
              
              <!-- Social Links (Hidden initially) -->
              <div id="name-episodes-social-links" style="display:none;margin-top:20px;text-align:center;">
                <p style="font-size:0.9rem;color:var(--text-muted);margin-bottom:12px;" data-i18n="ai.share_desc">이 서사를 간직하고, 동반자들과 함께 나누어 보세요.</p>
                <div style="display:flex;justify-content:center;gap:10px;flex-wrap:wrap;">
                  <a href="https://weverse.io/bts/feed" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:linear-gradient(135deg,#0acf83,#00c6a0);color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>🌐</span> <span>Weverse (공식)</span>
                  </a>
                  <a href="https://www.instagram.com/bts.bighitofficial/" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>📸</span> <span>Instagram</span>
                  </a>
                  <a href="https://x.com/BTS_twt" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#000;color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>𝕏</span> <span>X (Twitter)</span>
                  </a>
                  <a href="https://www.tiktok.com/@bts_official_bighit" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#010101;color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>🎵</span> <span>TikTok</span>
                  </a>
                  <a href="https://www.youtube.com/@BANGTANTV" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#FF0000;color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>▶️</span> <span>YouTube</span>
                  </a>
                  <a href="https://cafe.daum.net/BANGTAN" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:linear-gradient(135deg,#7c3aed,#a855f7);color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>💜</span> <span>팬카페</span>
                  </a>
                </div>
              </div>
            </div>
            <div id="name-episodes-share-card" class="name-episodes-share-card" style="position:absolute;left:-9999px;width:1080px;height:1350px;background:linear-gradient(180deg, #1a1a2e 0%, #16213e 50%, #0f3460 100%);color:#fff;padding:48px;box-sizing:border-box;font-family:system-ui,sans-serif;">
              <h2 id="name-episodes-share-title" style="font-size:42px;margin:0 0 24px;text-align:center;"></h2>
              <p id="name-episodes-share-chars" style="font-size:24px;margin:0 0 32px;text-align:center;opacity:0.9;"></p>
              <div id="name-episodes-share-cuts" style="display:grid;grid-template-columns:repeat(2,1fr);gap:16px;margin-bottom:32px;"></div>
              <p id="name-episodes-share-summary" style="font-size:22px;line-height:1.5;margin:0;text-align:center;opacity:0.85;"></p>
            </div>
            </div>
            <div class="name-episodes-learn-more" id="name-episodes-learn-more">
              <button type="button" class="name-episodes-learn-more-trigger" id="name-episodes-learn-more-trigger" aria-expanded="false" aria-controls="name-episodes-28-grid">
                <span data-i18n="ai.learn_more_trigger">스타일과의 연결 더 알아보기</span>
                <span class="name-episodes-learn-more-icon" aria-hidden="true">▼</span>
              </button>
              <div id="name-episodes-28-grid" class="name-episodes-28-grid" hidden aria-hidden="true">
                <p class="name-episodes-28-hint" data-i18n="ai.learn_more_hint">마음에 드는 캐릭터를 골라보세요 (최대 5개). 스타일 추천에 반영됩니다.</p>
                <div class="name-episodes-28-cards" id="name-episodes-28-cards"></div>
                <p class="name-episodes-28-selected" id="name-episodes-28-selected-count">0개 선택됨</p>
              </div>
            </div>
          </div>
        </div>
          <!-- 오른쪽: 미리보기 목업 / 결과 시 웹툰 스토리 -->
          <div class="name-episodes-preview" id="name-episodes-preview">
            <div class="preview-mockup">
              <p class="preview-label">이름을 입력하면 깨어나는 페르소나</p>
              <div class="preview-cards">
                <div class="preview-card preview-card--1">
                  <div class="preview-card-avatar"></div>
                  <div class="preview-card-name">ㅎ · 하늘</div>
                  <div class="preview-card-tag">순수 · 자유</div>
                </div>
                <div class="preview-card preview-card--2">
                  <div class="preview-card-avatar"></div>
                  <div class="preview-card-name">ㅁ · 마음</div>
                  <div class="preview-card-tag">감성 · 공감</div>
                </div>
                <div class="preview-card preview-card--3">
                  <div class="preview-card-avatar"></div>
                  <div class="preview-card-name">ㅅ · 소망</div>
                  <div class="preview-card-tag">의지 · 희망</div>
                </div>
              </div>
              <p class="preview-cta">당신의 이름엔 어떤 자아가 숨어 있을까요?</p>
            </div>
          </div>
          <div id="name-episodes-story-side" class="name-episodes-story-side" style="display:none;" aria-label="한글 페르소나 웹툰 스토리">
            <h4 class="name-episodes-story-side-title"></h4>
            <div class="name-episodes-story-side-panels"></div>
          </div>
        </div>
      </div>
      
      <!-- Flow Connector 1: 서사 -> 소울 컬러 -->
      <div class="flow-connector" style="text-align:center; padding: 10px 0; opacity: 0.8; animation: bounce 2s infinite;">
        <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 4px;" data-i18n="flow.step1_done">STEP 1 완료! 다음 단계로 이어집니다 ⬇️</p>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color:var(--primary);">
          <path d="M7 13l5 5 5-5M7 6l5 5 5-5"/>
        </svg>
      </div>

      <!-- 1.5 코너: 소울 컬러 (디자인 통일: 한글 페르소나 스타일 적용) -->
      <div id="soul-color-section" class="name-episodes-block" style="margin-top:0;">
        <p class="persona-connector" data-i18n="soulcolor.connector">생년월일로 찾는 나만의 탄생 컬러 · 바이브</p>
        <h3 class="name-episodes-title" data-i18n="soulcolor.title">당신의 소울 컬러는?</h3>
        <p class="name-episodes-desc" data-i18n="soulcolor.desc">생년월일을 입력하면, 당신의 고유한 탄생 컬러와 바이브를 찾아드립니다.</p>
        <div class="name-episodes-row soul-color-row name-episodes-row--two-col">
          <!-- 왼쪽: 입력 영역 -->
          <div class="name-episodes-left">
            <div class="name-episodes-input-corner">
              <label for="soul-color-date" class="name-episodes-input-label" data-i18n="soulcolor.date_label">생년월일</label>
              <div class="name-episodes-input-row">
                <span class="name-episodes-input-icon" aria-hidden="true">📅</span>
                <input type="date" id="soul-color-date" class="name-episodes-input" aria-label="생년월일 선택" max="9999-12-31" style="padding-left:12px;" data-i18n-aria="soulcolor.date_aria" data-login-required>
                <button type="button" id="soul-color-btn" class="name-episodes-btn" data-login-required style="background: linear-gradient(135deg, #ec4899, #db2777); box-shadow: 0 4px 12px rgba(236, 72, 153, 0.3);" data-i18n="soulcolor.btn_analyze">분석하기</button>
              </div>
              <p class="name-episodes-hint" data-i18n="soulcolor.privacy_hint">🔒 입력하신 정보는 결과 생성 즉시 폐기되며, 서버에 저장되지 않습니다.</p>
            </div>
          </div>
          <!-- 오른쪽: 소울 컬러 미리보기 목업 (7색 일렬) -->
          <div class="soul-color-preview" id="soul-color-preview">
            <div class="preview-mockup soul-preview-compact">
              <p class="preview-label" data-i18n="soulcolor.preview_label">생일을 입력하면 찾아지는 소울 컬러</p>
              <div class="soul-color-preview-dots">
                <span class="soul-dot" style="background:#1E3A8A;" title="Indigo Blue"></span>
                <span class="soul-dot" style="background:#C0C0C0;" title="Moonlight Silver"></span>
                <span class="soul-dot" style="background:#1a1a1a;" title="Piano Black"></span>
                <span class="soul-dot" style="background:#EF4444;" title="Sunshine Red"></span>
                <span class="soul-dot" style="background:#FFD700;" title="Serendipity Gold"></span>
                <span class="soul-dot" style="background:#10B981;" title="Forest Green"></span>
                <span class="soul-dot" style="background:#7C3AED;" title="Borahae Purple"></span>
              </div>
              <p class="preview-cta" data-i18n="soulcolor.preview_cta">당신의 탄생 컬러는 어떤 빛일까요?</p>
            </div>
          </div>
          <!-- 결과 영역 (hidden, 입력 시 미리보기 대체) -->
          <div id="soul-color-result" class="soul-color-result-panel" hidden>
            <div class="soul-color-result-inner">
              <div id="soul-color-chip" class="soul-color-chip"></div>
              <p id="soul-color-keyword" class="soul-color-keyword"></p>
              <p id="soul-color-personality" class="soul-color-personality"></p>
              <p id="soul-color-tags" class="soul-color-tags"></p>
              <div id="soul-color-music-block" class="soul-color-music-block">
                <button type="button" id="soul-color-music-btn" class="soul-color-music-btn" data-login-required data-i18n="soulcolor.music_btn" data-i18n-aria="soulcolor.music_aria">🎵 내 탄생뮤직 만들기</button>
                <div id="soul-color-music-status" class="soul-color-music-status" hidden></div>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Flow Connector 2: 소울 컬러 -> 스타일링 -->
      <div class="flow-connector" style="text-align:center; padding: 10px 0; opacity: 0.8; animation: bounce 2s infinite;">
        <p style="font-size: 0.85rem; color: var(--text-muted); margin-bottom: 4px;" data-i18n="flow.step2_done">STEP 2 완료! 이제 스타일을 완성할 시간 ⬇️</p>
        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" style="color:var(--primary);">
          <path d="M7 13l5 5 5-5M7 6l5 5 5-5"/>
        </svg>
      </div>

      <!-- 2순서: 보라해 스타일링 시작 + 01/02/03 프로필·스타일·코디 -->
      <div class="ai-content persona-styling-block">
        <div class="ai-text">
          <button class="btn-primary btn-large" id="open-styling-result-btn" data-login-required data-i18n="ai.cta">보라해 스타일링 시작</button>
          <div class="steps">
            <div class="step">
              <div class="step-number">01</div>
              <div class="step-content">
                <h4 data-i18n="ai.step1_title">프로필 분석</h4>
                <p data-i18n="ai.step1_desc">간단한 설문과 사진으로 AI가 퍼스널 컬러와 체형을 분석합니다</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">02</div>
              <div class="step-content">
                <h4 data-i18n="ai.step2_title">K-pop 스타일 매칭</h4>
                <p data-i18n="ai.step2_desc">콘서트, 팬미팅, 일상 등 상황별 최적의 스타일을 찾습니다</p>
              </div>
            </div>
            <div class="step">
              <div class="step-number">03</div>
              <div class="step-content">
                <h4 data-i18n="ai.step3_title">보라해 코디 완성</h4>
                <p data-i18n="ai.step3_desc">AI가 생성한 코디로 보라빛 감성을 완성하세요</p>
              </div>
            </div>
          </div>
        </div>
        <div class="ai-visual">
          <div class="ai-demo">
            <div class="demo-header">
              <img src="image/logo1-removebg-preview.png" alt="BORAHAE" class="demo-header-logo">
              <span class="demo-header-title">Style Analysis</span>
            </div>
            <div class="demo-content">
              <div class="analysis-item">
                <div class="analysis-icon color-warm"></div>
                <div class="analysis-info">
                  <span class="analysis-label">Personal Color</span>
                  <span class="analysis-value">Warm Autumn</span>
                </div>
                <div class="analysis-bar"><div class="bar-fill" style="width: 92%"></div></div>
              </div>
              <div class="analysis-item">
                <div class="analysis-icon body-type"></div>
                <div class="analysis-info">
                  <span class="analysis-label">Body Type</span>
                  <span class="analysis-value">Hourglass</span>
                </div>
                <div class="analysis-bar"><div class="bar-fill" style="width: 88%"></div></div>
              </div>
              <div class="analysis-item">
                <div class="analysis-icon style-pref"></div>
                <div class="analysis-info">
                  <span class="analysis-label">Style Preference</span>
                  <span class="analysis-value">Modern Minimal</span>
                </div>
                <div class="analysis-bar"><div class="bar-fill" style="width: 95%"></div></div>
              </div>
              <div class="recommended-colors">
                <span>Recommended Colors</span>
                <div class="color-palette">
                  <div class="color" style="background: #8B4513"></div>
                  <div class="color" style="background: #D2691E"></div>
                  <div class="color" style="background: #F5DEB3"></div>
                  <div class="color" style="background: #556B2F"></div>
                  <div class="color" style="background: #2F4F4F"></div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- CREATE: 매직샵 (음악 → 안식처, 한글 페르소나와 동일 좌측 입력 / 우측 결과) -->
  <section id="lightstick" class="ai-section">
    <div class="container">
      <header class="persona-header">
        <span class="section-badge" data-i18n="lightstick.badge">Chapter 2. Sanctuary</span>
        <h2 class="section-title" data-i18n="lightstick.title">당신의 선율은 단단한 안식처가 되고,<br>당신의 심장 박동은 내일의 이정표가 됩니다 💜</h2>
        <p class="persona-subtitle" data-i18n="lightstick.desc">무형의 선율이 유형의 안식처가 되는 순간. 당신의 영감이 깃든 이 공간은 마음이 쉬어가는 가장 안전한 매직샵입니다.</p>
      </header>
      <!-- 좌측 입력 / 우측 결과 (한글 페르소나와 동일 구조) -->
      <div class="magicshop-block name-episodes-block">
        <p class="persona-connector" data-i18n="magicshop.connector">음악으로 일궈내는 영혼의 안식처 · 매직샵</p>
        <!-- 제목·설명을 row 위로 분리하여, 두 박스가 나란히 정렬되도록 -->
        <div class="magicshop-hero-header">
          <h3 class="name-episodes-title" data-i18n="magicshop.input_title">당신의 최애곡을 들려주세요</h3>
          <p class="name-episodes-desc" data-i18n="magicshop.input_hint">소리가 머무는 집을 지어드립니다. MIDI·PDF·악보·MP3를 올리거나 🎼 샘플을 사용하세요.</p>
        </div>
        <div class="magicshop-row name-episodes-row magicshop-row--aligned">
          <div class="magicshop-left name-episodes-left">
            <div class="magicshop-hero name-episodes-hero">
              <div class="magicshop-input-corner name-episodes-input-corner">
                <div class="magicshop-dropzone" id="magicshop-dropzone" data-login-required>
                  <p class="magicshop-dropzone-text" data-i18n="magicshop.dropzone">선율의 기록을 여기에 놓거나 선택하세요</p>
                  <input type="file" id="arch-midi-input" accept=".mid,.midi,audio/midi,.pdf,application/pdf,.mp3,audio/mpeg,.png,.jpg,.jpeg,.gif,.webp,image/png,image/jpeg,image/gif,image/webp" style="position:absolute;inset:0;opacity:0;cursor:pointer;width:100%;height:100%;" aria-label="MIDI PDF 악보 MP3 이미지 업로드">
                </div>
                <div class="magicshop-build-inputs magicshop-build-inputs--centered">
                  <div class="magicshop-sample-wrap">
                    <button type="button" class="magicshop-sample-icon-btn" id="arch-use-sample-btn" data-login-required aria-label="샘플 악보 적용" title="클릭하면 점선 칸에 샘플악보가 적용됩니다">🎼</button>
                    <span class="magicshop-sample-label" data-i18n="arch.use_sample_short">샘플악보(사랑의인사)</span>
                  </div>
                  <span class="magicshop-input-or">또는</span>
                  <button type="button" class="btn-outline magicshop-upload-btn" id="arch-upload-trigger" data-login-required><span data-i18n="arch.upload_midi_pdf">MIDI · PDF · 악보 · MP3 업로드</span></button>
                </div>
                <p class="magicshop-build-status name-episodes-hint" id="arch-input-status" style="margin-top:12px;min-height:1.4em;" aria-live="polite"></p>
                <button type="button" class="name-episodes-btn magicshop-start-btn" id="arch-generate-btn" data-login-required disabled data-i18n="magicshop.start_btn">안식처 건축 시작</button>
              </div>
            </div>
          </div>
          <div class="magicshop-right">
            <div id="magicshop-display" class="magicshop-display">
              <div id="magicshop-display-idle" class="magicshop-display-idle">
                <div class="magicshop-aurora"></div>
                <div id="magicshop-hangeul-carousel" class="magicshop-hangeul-carousel" aria-hidden="false">
                  <img id="magicshop-hangeul-carousel-img" class="magicshop-hangeul-carousel-media" src="" alt="" style="display:none;">
                  <video id="magicshop-hangeul-carousel-video" class="magicshop-hangeul-carousel-media" muted playsinline style="display:none;" preload="metadata"></video>
                </div>
                <p class="magicshop-display-idle-text" data-i18n="magicshop.display_idle">텅 빈 우주에 당신의 주파수를 기다리는 오로라가 일렁입니다.</p>
              </div>
              <div id="magicshop-display-loading" class="magicshop-display-loading" style="display:none;">
                <div class="magicshop-loading-stage magicshop-loading-waveform"></div>
                <p class="magicshop-loading-caption" data-i18n="magicshop.loading">선율의 파동이 한글의 구조를 빌어 당신만의 안식처로 조립됩니다...</p>
              </div>
              <div id="magicshop-display-result" class="magicshop-display-result" style="display:none;">
                <div class="magicshop-result-card magicshop-card-tilt" id="magicshop-result-card">
                  <img id="magicshop-result-image" src="" alt="안식처" style="width:100%;height:auto;border-radius:16px;display:block;">
                </div>
                <p class="magicshop-result-label" data-i18n="arch.step1_jamo_grid">1. 한글 자모 그리드</p>
              </div>
            </div>
          </div>
        </div>
        <!-- 한글 시스템 갤러리 (image/hangeul/system/gallery) -->
        <div class="magicshop-hangeul-gallery-wrap" style="margin-top:24px;">
          <h4 class="magicshop-hangeul-gallery-title" style="font-size:1rem;margin-bottom:12px;color:var(--text-primary);" data-i18n="arch.hangeul_gallery_title">한글 공감각 건축 갤러리</h4>
          <div class="magicshop-hangeul-gallery" id="magicshop-hangeul-gallery"></div>
        </div>
      </div>
      <!-- 기존 빌드 결과(그리드·컨셉·나노·최종)는 우측 아래 또는 모달로 유지. 여기서는 우측에 메인 결과만 표시하고 상세는 기존 wrap 안에 숨겨두거나 스크롤 영역으로 -->
      <div class="magicshop-build-wrap" id="magicshop-build-wrap" style="margin-top:32px;padding:32px 24px;background:var(--bg-primary);border-radius:20px;border:2px solid var(--border-color);display:none;">
        <h3 class="magicshop-build-title" style="font-size:1.25rem;margin-bottom:8px;color:var(--text-primary);" data-i18n="arch.build_title">🎵 선율을 봉인하면 영원한 안식처가 됩니다</h3>
        <p class="magicshop-build-desc" style="font-size:0.9rem;color:var(--text-muted);margin-bottom:24px;" data-i18n="arch.build_desc">영감의 원천(음악 또는 악보)을 선택하고 생성 버튼을 누르면, 무형의 소리가 유형의 안식처로 형상화됩니다.</p>
        <p class="magicshop-build-status" id="arch-input-status-legacy" style="font-size:0.85rem;color:var(--text-muted);margin-bottom:16px;min-height:1.4em;" aria-live="polite"></p>
        <div style="display:flex;flex-wrap:wrap;gap:12px;align-items:center;margin-top:16px;">
          <button type="button" class="btn-primary btn-large" id="arch-generate-btn-legacy" disabled data-i18n="arch.generate_btn">🏛️ 안식처 형상화</button>
        </div>

        <div class="magicshop-build-loading" id="arch-loading" style="display:none;text-align:center;padding:24px;">
          <p style="color:var(--primary);font-weight:600;" data-i18n="arch.generating">당신의 안식처를 보라빛 세계에 짓고 있습니다...</p>
        </div>
        <div class="magicshop-build-result" id="arch-result" style="display:none;margin-top:24px;text-align:center;">
          <!-- 1) 한글 자모 그리드 (실제로는 그리드이므로 라벨 수정) -->
          <p class="magicshop-build-result-title" style="font-weight:600;margin-bottom:12px;color:var(--text-primary);" data-i18n="arch.step1_jamo_grid">1. 한글 자모 그리드</p>
          <p style="font-size:0.9rem;color:var(--text-muted);margin-bottom:12px;" data-i18n="arch.result_grid_desc">구조·멜로디·반주 한글 자모 그리드</p>
          <div style="background:var(--bg-secondary);border-radius:16px;padding:16px;display:inline-block;">
            <img id="arch-result-image" alt="선율의 그리드" style="max-width:100%;height:auto;border-radius:8px;display:block;">
          </div>
          <div style="margin-top:16px;display:flex;flex-wrap:wrap;gap:12px;justify-content:center;">
            <a id="arch-download-link" class="btn-primary" download="hangeul-architecture-grid.png" data-i18n="arch.download_grid">💾 그리드 이미지 저장</a>
            <button type="button" class="btn-outline" id="arch-generate-again-btn" data-i18n="arch.generate_again">🔄 다시 생성</button>
          </div>

          <!-- 2) 건축 컨셉 디자인 -->
          <div id="arch-concept-section" style="margin-top:32px;padding-top:24px;border-top:1px solid var(--border-color);">
            <p class="magicshop-build-result-title" style="font-weight:600;margin-bottom:8px;color:var(--text-primary);" data-i18n="arch.step2_concept_title">2. 건축 컨셉 디자인</p>
            <p style="font-size:0.9rem;color:var(--text-muted);margin-bottom:12px;" data-i18n="arch.concept_design_desc">건축 프레젠테이션 보드 (조감도·다이어그램·플랜·퍼스펙티브)</p>
            <div id="arch-concept-loading" class="arch-nano-loading" style="display:none;padding:24px;">
              <div class="loading-spinner" style="margin:0 auto 12px;width:40px;height:40px;border:3px solid var(--border-color);border-top-color:var(--primary);border-radius:50%;animation:spin 0.8s linear infinite;"></div>
              <p style="color:var(--primary);font-size:0.95rem;" data-i18n="arch.concept_loading">컨셉 디자인 이미지를 생성하고 있어요...</p>
            </div>
            <div id="arch-concept-wrap" style="display:none;">
              <div style="background:var(--bg-secondary);border-radius:16px;padding:16px;display:inline-block;">
                <img id="arch-concept-image" alt="한글 건축 컨셉 디자인" style="max-width:100%;height:auto;border-radius:8px;display:block;">
              </div>
              <div style="margin-top:12px;"><a id="arch-concept-download" class="btn-outline btn-sm" download="hangeul-architecture-concept.png" data-i18n="arch.download_btn">💾 이미지 저장</a></div>
            </div>
          </div>

          <!-- 3) 최종 건축 디자인 -->
          <div id="arch-final-section" style="margin-top:32px;padding-top:24px;border-top:1px solid var(--border-color);">
            <p class="magicshop-build-result-title" style="font-weight:600;margin-bottom:8px;color:var(--text-primary);" data-i18n="arch.step3_final_title">3. 최종 건축 디자인</p>
            <p style="font-size:0.9rem;color:var(--text-muted);margin-bottom:12px;" data-i18n="arch.final_building_desc">당신의 선율이 도달한 최종적인 안식처입니다.</p>
            <div id="arch-final-loading" class="arch-nano-loading" style="display:none;padding:24px;">
              <div class="loading-spinner" style="margin:0 auto 12px;width:40px;height:40px;border:3px solid var(--border-color);border-top-color:var(--primary);border-radius:50%;animation:spin 0.8s linear infinite;"></div>
              <p style="color:var(--primary);font-size:0.95rem;" data-i18n="arch.final_loading">최종적인 안식처를 완성하고 있습니다...</p>
            </div>
            <div id="arch-final-wrap" style="display:none;">
              <div style="background:var(--bg-secondary);border-radius:16px;padding:16px;display:inline-block;">
                <img id="arch-final-image" alt="완성된 영혼의 안식처" style="max-width:100%;height:auto;border-radius:8px;display:block;">
              </div>
              <div style="margin-top:12px;display:flex;flex-wrap:wrap;gap:12px;align-items:center;justify-content:center;">
                <a id="arch-final-download" class="btn-primary btn-sm" download="hangeul-architecture-final.png" data-i18n="arch.download_btn">💾 이미지 저장</a>
                <button type="button" id="arch-final-video-btn" class="btn-primary btn-sm" data-i18n="arch.video_generate_btn">동영상 생성</button>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- 한글 건축 체험 · 구글 지니(Genie) 암시 배너 -->
      <div class="genie-arch-banner" style="margin-top:32px;padding:24px;background:linear-gradient(135deg, var(--bg-primary) 0%, var(--bg-secondary) 100%);border-radius:20px;border:1px solid var(--border-color);display:flex;flex-wrap:wrap;align-items:center;gap:24px;justify-content:center;">
        <div style="flex:0 0 auto;max-width:280px;">
          <img src="image/project-genie.png" alt="Project Genie by Google" style="width:100%;height:auto;border-radius:12px;display:block;box-shadow:0 8px 24px rgba(0,0,0,0.12);" loading="lazy">
        </div>
        <div style="flex:1;min-width:240px;text-align:center;">
          <p class="genie-arch-caption" style="font-size:1rem;color:var(--text-primary);margin:0 0 8px;font-weight:600;" data-i18n="arch.genie_caption">Create your own worlds</p>
          <p style="font-size:0.9rem;color:var(--text-muted);margin:0 0 16px;line-height:1.5;" data-i18n="arch.genie_desc">한글 건축 체험은 Google의 실험적 프로젝트 지니(Genie)와 함께 무한히 다양한 세계를 만들고 탐험합니다.</p>
          <div class="magicshop-sample-wrap" style="display:flex;flex-wrap:wrap;gap:12px;justify-content:center;">
            <button type="button" class="btn-outline btn-large" id="open-architecture-btn" aria-label="한글 건축 체험" data-login-required data-i18n="arch.sample_btn">한글 건축 체험하기</button>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- 한글 건축 체험 모달: 나노 바나나 생성 → 이미지 표시 / 그리드 미리보기 -->
  <div class="info-modal" id="architecture-modal" aria-hidden="true">
    <div class="info-modal-content info-modal-content--wide" style="max-width:960px;max-height:90vh;display:flex;flex-direction:column;">
      <button class="info-modal-close" id="architecture-modal-close" aria-label="닫기"><svg viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
      <div class="architecture-modal-inner" style="padding:24px 32px 32px;overflow-y:auto;max-height:calc(90vh - 60px);-webkit-overflow-scrolling:touch;">
        <div id="arch-modal-loading" class="arch-modal-loading" style="text-align:center;padding:40px 24px;">
          <div class="loading-spinner" style="margin:0 auto 16px;width:48px;height:48px;border:4px solid var(--border-color);border-top-color:var(--primary);border-radius:50%;animation:spin 0.8s linear infinite;"></div>
          <p id="arch-modal-loading-text" style="color:var(--primary);font-weight:600;margin-bottom:4px;" data-i18n="arch.nano_loading">OpenAI가 당신의 선율을 해석하여 안식처의 기둥을 세우고 있습니다...</p>
          <p style="font-size:0.9rem;color:var(--text-muted);" data-i18n="arch.nano_loading_sub">구조·멜로디·반주 요소가 건축 이미지로 변환됩니다 (약 10~30초)</p>
        </div>
        <div id="arch-modal-result" class="arch-modal-result" style="display:none;">
          <p class="arch-modal-score-name" style="text-align:center;font-size:1rem;color:var(--text-secondary);margin:0 0 16px 0;" data-i18n="arch.modal_piece_title">작은것들을 위한 시</p>
          <div class="arch-modal-media-wrap" style="display:flex;justify-content:center;align-items:center;margin-bottom:20px;min-height:280px;">
            <img id="arch-nano-image" alt="당신의 선율로 완성된 안식처" style="max-width:100%;max-height:75vh;width:auto;height:auto;object-fit:contain;border-radius:12px;box-shadow:var(--shadow-lg);">
            <video id="arch-nano-video" class="arch-modal-video" controls playsinline style="display:none;max-width:100%;max-height:75vh;width:auto;height:auto;object-fit:contain;border-radius:12px;box-shadow:var(--shadow-lg);" preload="metadata"></video>
          </div>
          <p style="font-size:0.85rem;color:var(--text-muted);text-align:center;margin-top:-8px;margin-bottom:12px;" data-i18n="arch.modal_save_hint">닫기 전에 저장 버튼으로 다운로드하세요.</p>
          <div class="arch-modal-actions" style="display:flex;flex-wrap:wrap;gap:12px;justify-content:center;align-items:center;margin-bottom:24px;">
            <a id="arch-nano-download" class="btn-primary" href="#" download="hangeul-architecture-nano.png" data-i18n="arch.download_btn" style="cursor:pointer;">💾 이미지 저장</a>
          </div>
        </div>
        <div id="arch-modal-error" class="arch-modal-error" style="display:none;text-align:center;padding:40px 24px;">
          <p id="arch-modal-error-title" style="color:var(--text-danger, #dc2626);font-weight:600;margin-bottom:8px;" data-i18n="arch.error_title">안식처 형상화에 실패했습니다</p>
          <p id="arch-modal-error-msg" style="color:var(--text-muted);font-size:0.9rem;margin-bottom:16px;"></p>
          <button type="button" class="btn-outline" id="arch-retry-btn" data-i18n="arch.generate_again">🔄 다시 시도</button>
        </div>
      </div>
    </div>
  </div>

  <!-- 한글 건축 체험 · 지니(Genie) 3.0 체험 안내 팝업 -->
  <div class="info-modal genie-coming-soon-modal" id="arch-coming-soon-modal" aria-hidden="true">
    <div class="info-modal-content genie-coming-soon-content" style="max-width:560px;border-radius:24px;overflow:hidden;box-shadow:0 24px 48px rgba(0,0,0,0.12);">
      <button class="info-modal-close" id="arch-coming-soon-close" aria-label="닫기"><svg viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
      <div class="genie-guide-inner" style="padding:24px 28px 28px;">
        <h2 id="arch-genie-guide-title" class="genie-coming-soon-title" style="font-size:1.25rem;font-weight:700;color:#1a1f36;margin:0 0 12px;letter-spacing:-0.02em;" data-i18n="arch.genie_guide_title">지니(Genie)로 건축물 내부 탐험하기</h2>
        <p id="arch-genie-guide-desc" style="font-size:0.9rem;color:#4a5568;line-height:1.55;margin:0 0 16px;" data-i18n="arch.genie_guide_desc">아래 프롬프트를 지니(Genie)에 입력하면, 당신이 만든 최종 건축물 이미지를 기반으로 건축물 안을 자유롭게 돌아다니며 내부 공간을 자세히 볼 수 있습니다.</p>
        <div id="arch-genie-guide-image-wrap" style="margin-bottom:16px;min-height:120px;border-radius:12px;overflow:hidden;background:linear-gradient(160deg, #1a1f36 0%, #2d3748 100%);display:flex;align-items:center;justify-content:center;">
          <img id="arch-genie-guide-image" alt="최종 건축물" style="max-width:100%;max-height:200px;object-fit:contain;display:none;">
          <p id="arch-genie-guide-no-image" style="font-size:0.85rem;color:rgba(255,255,255,0.85);padding:20px;text-align:center;margin:0;" data-i18n="arch.genie_guide_no_image">먼저 매직샵에서 3. 최종 건축 디자인을 생성하면 여기에 이미지가 표시됩니다.</p>
        </div>
        <p style="font-size:0.85rem;font-weight:600;color:#1a1f36;margin:0 0 6px;" data-i18n="arch.genie_guide_prompt_label">지니 3.0에 넣을 프롬프트 (복사 후 사용)</p>
        <textarea id="arch-genie-guide-prompt" readonly style="width:100%;min-height:80px;padding:12px;font-size:0.9rem;border:1px solid var(--border-color);border-radius:10px;resize:vertical;margin-bottom:10px;"></textarea>
        <div style="display:flex;flex-wrap:wrap;gap:10px;align-items:center;">
          <button type="button" id="arch-genie-guide-copy" class="btn-outline" style="border-radius:10px;padding:10px 16px;font-weight:600;" data-i18n="arch.genie_guide_copy">프롬프트 복사</button>
          <a href="https://deepmind.google/models/genie/" target="_blank" rel="noopener noreferrer" class="btn-primary" id="arch-genie-guide-go" style="border-radius:10px;padding:10px 20px;font-weight:600;text-decoration:none;display:inline-block;" data-i18n="arch.genie_guide_go">지니에서 체험하기</a>
        </div>
      </div>
    </div>
  </div>

  <!-- Lightstick Designer Modal -->
  <div class="info-modal" id="lightstick-modal">
    <div class="info-modal-content" style="max-width:640px;">
      <button class="info-modal-close" id="lightstick-modal-close"><svg viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
      <div class="lightstick-modal-inner">
        <!-- Step Indicator -->
        <div class="ls-steps-indicator" style="display:flex;justify-content:center;gap:8px;margin-bottom:24px;">
          <div class="ls-dot active" data-ls-step="1">1</div>
          <div class="ls-dot" data-ls-step="2">2</div>
          <div class="ls-dot" data-ls-step="3">3</div>
          <div class="ls-dot" data-ls-step="4">4</div>
        </div>

        <!-- Step 1: Name Input -->
        <div class="ls-step" id="ls-step-1">
          <h2 style="text-align:center;margin-bottom:8px;" data-i18n="lightstick.modal_step1_title">✍️ 응원봉(기억의 등불)에 새길 이름</h2>
          <p style="text-align:center;color:var(--text-muted);margin-bottom:24px;" data-i18n="lightstick.modal_step1_desc">소중한 마음을 담아, 당신의 등불에 새길 이름을 입력하세요</p>
          <div style="max-width:400px;margin:0 auto;">
            <input type="text" id="ls-name-input" class="input-field" placeholder="예: 지영, 보라해♡, 끝까지 함께" data-i18n-placeholder="lightstick.modal_step1_placeholder" maxlength="20" style="width:100%;padding:14px 18px;border-radius:12px;border:2px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:1.1rem;text-align:center;">
            <p style="text-align:center;margin-top:8px;font-size:0.82rem;color:var(--text-muted);" data-i18n="lightstick.modal_step1_max">최대 20자</p>
          </div>
          <div style="text-align:center;margin-top:24px;">
            <button class="btn-primary btn-large" id="ls-next-1" disabled data-i18n="lightstick.modal_step1_next">다음: 컬러 선택 →</button>
          </div>
        </div>

        <!-- Step 2: Color Selection -->
        <div class="ls-step" id="ls-step-2" style="display:none;">
          <h2 style="text-align:center;margin-bottom:8px;" data-i18n="lightstick.modal_step2_title">🎨 마음을 비추는 컬러</h2>
          <p style="text-align:center;color:var(--text-muted);margin-bottom:24px;" data-i18n="lightstick.modal_step2_desc">당신의 마음을 가장 잘 표현하는 보라빛 컬러를 선택하세요</p>
          <div class="ls-color-grid" id="ls-color-grid">
            <div class="ls-color-item" data-color="#7c3aed" data-color-name="보라빛 꿈" data-color-name-en="Purple Dream">
              <div class="ls-color-circle" style="background:#7c3aed;"></div>
              <span data-i18n="lightstick.color_purple">보라빛 꿈</span>
            </div>
            <div class="ls-color-item" data-color="#ff6b8a" data-color-name="로즈 블러쉬" data-color-name-en="Rose Blush">
              <div class="ls-color-circle" style="background:#ff6b8a;"></div>
              <span data-i18n="lightstick.color_rose">로즈 블러쉬</span>
            </div>
            <div class="ls-color-item" data-color="#4ecdc4" data-color-name="민트 프레시" data-color-name-en="Mint Fresh">
              <div class="ls-color-circle" style="background:#4ecdc4;"></div>
              <span data-i18n="lightstick.color_mint">민트 프레시</span>
            </div>
            <div class="ls-color-item" data-color="#ffd93d" data-color-name="선샤인 골드" data-color-name-en="Sunshine Gold">
              <div class="ls-color-circle" style="background:#ffd93d;"></div>
              <span data-i18n="lightstick.color_gold">선샤인 골드</span>
            </div>
            <div class="ls-color-item" data-color="#4a90d9" data-color-name="오션 딥" data-color-name-en="Ocean Deep">
              <div class="ls-color-circle" style="background:#4a90d9;"></div>
              <span data-i18n="lightstick.color_ocean">오션 딥</span>
            </div>
            <div class="ls-color-item" data-color="#6bcf7f" data-color-name="포레스트" data-color-name-en="Forest">
              <div class="ls-color-circle" style="background:#6bcf7f;"></div>
              <span data-i18n="lightstick.color_forest">포레스트</span>
            </div>
            <div class="ls-color-item" data-color="#ff6b35" data-color-name="코랄 파이어" data-color-name-en="Coral Fire">
              <div class="ls-color-circle" style="background:#ff6b35;"></div>
              <span data-i18n="lightstick.color_coral">코랄 파이어</span>
            </div>
          </div>
          <div style="display:flex;justify-content:center;gap:12px;margin-top:24px;">
            <button class="btn-outline" id="ls-back-2" data-i18n="lightstick.modal_step2_prev">← 이전</button>
            <button class="btn-primary btn-large" id="ls-next-2" disabled data-i18n="lightstick.modal_step2_next">다음: 디자인 →</button>
          </div>
        </div>

        <!-- Step 3: Design Prompt -->
        <div class="ls-step" id="ls-step-3" style="display:none;">
          <h2 style="text-align:center;margin-bottom:8px;" data-i18n="lightstick.modal_step3_title">🤖 응원봉(기억의 등불) 디자인</h2>
          <p style="text-align:center;color:var(--text-muted);margin-bottom:16px;" data-i18n="lightstick.modal_step3_desc">어떤 모양으로 마음을 전하고 싶나요? 테마와 아이디어를 자유롭게 담아주세요</p>
          <div class="ls-prompt-area" style="max-width:520px;margin:0 auto;">

            <!-- 등불 모양 선택 -->
            <p style="font-size:0.85rem;font-weight:600;margin-bottom:8px;color:var(--text-secondary);" data-i18n="lightstick.modal_step3_shape">🔷 등불 모양 선택</p>
            <div class="ls-shape-grid" style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px;">
              <button class="ls-shape-btn" data-shape="별 모양 (star-shaped)">⭐ 별</button>
              <button class="ls-shape-btn" data-shape="하트 모양 (heart-shaped)">💜 하트</button>
              <button class="ls-shape-btn" data-shape="구체/공 모양 (sphere/globe)">🔮 구체</button>
              <button class="ls-shape-btn" data-shape="왕관 모양 (crown-shaped)">👑 왕관</button>
              <button class="ls-shape-btn" data-shape="나비 모양 (butterfly-shaped)">🦋 나비</button>
              <button class="ls-shape-btn" data-shape="꽃 모양 (flower-shaped)">🌸 꽃</button>
              <button class="ls-shape-btn" data-shape="달 모양 (crescent moon)">🌙 달</button>
              <button class="ls-shape-btn" data-shape="다이아몬드/보석 모양 (diamond/gem)">💎 보석</button>
              <button class="ls-shape-btn" data-shape="음표 모양 (musical note)">🎵 음표</button>
              <button class="ls-shape-btn" data-shape="기하학적 형태 (geometric form)">💎 기하학</button>
            </div>

            <!-- 분위기/테마 태그 -->
            <p style="font-size:0.85rem;font-weight:600;margin-bottom:8px;color:var(--text-secondary);" data-i18n="lightstick.modal_step3_theme">💡 테마 · 분위기 선택 (복수 가능)</p>
            <div class="ls-tags" style="display:flex;flex-wrap:wrap;gap:8px;margin-bottom:16px;">
              <button class="ls-tag-btn" data-tag="우주·별빛">🌌 우주·별빛</button>
              <button class="ls-tag-btn" data-tag="꽃·봄감성">🌸 꽃·봄감성</button>
              <button class="ls-tag-btn" data-tag="불꽃·에너지">🔥 불꽃·에너지</button>
              <button class="ls-tag-btn" data-tag="크리스탈·보석">💎 크리스탈·보석</button>
              <button class="ls-tag-btn" data-tag="오로라·홀로그램">🌈 오로라·홀로그램</button>
              <button class="ls-tag-btn" data-tag="하트·사랑">💜 하트·사랑</button>
              <button class="ls-tag-btn" data-tag="미래·사이버펑크">🤖 미래·사이버펑크</button>
              <button class="ls-tag-btn" data-tag="빈티지·레트로">🎞️ 빈티지·레트로</button>
              <button class="ls-tag-btn" data-tag="바다·파도">🌊 바다·파도</button>
            </div>

            <!-- 자유 프롬프트 -->
            <p style="font-size:0.85rem;font-weight:600;margin-bottom:8px;color:var(--text-secondary);" data-i18n="lightstick.modal_step3_free">✏️ 나만의 기억 새기기</p>
            <textarea id="ls-prompt-input" class="input-field" rows="3" placeholder="예: 은하수가 흐르는 투명한 등불, 나비 날개 장식, 보라빛 별빛이 감도는 크리스탈..." data-i18n-placeholder="lightstick.modal_step3_placeholder" style="width:100%;padding:14px;border-radius:12px;border:2px solid var(--border-color);background:var(--bg-tertiary);color:var(--text-primary);font-size:1rem;resize:none;"></textarea>

            <div id="ls-design-summary" style="margin-top:16px;padding:14px;border-radius:12px;background:var(--bg-tertiary);display:none;">
              <p style="font-size:0.85rem;color:var(--text-muted);margin-bottom:4px;" data-i18n="lightstick.modal_step3_summary_title">📋 나의 등불 요약</p>
              <p id="ls-summary-text" style="font-weight:600;"></p>
            </div>
          </div>
          <div style="display:flex;justify-content:center;gap:12px;margin-top:24px;">
            <button class="btn-outline" id="ls-back-3" data-i18n="lightstick.modal_step3_prev">← 이전</button>
            <button class="btn-primary btn-large" id="ls-generate-btn" data-i18n="lightstick.modal_step3_generate">💜 보라빛 등불 밝히기</button>
          </div>
        </div>

        <!-- Step 4: Result -->
        <div class="ls-step" id="ls-step-4" style="display:none;">
          <h2 style="text-align:center;margin-bottom:8px;" id="ls-result-title" data-i18n="lightstick.modal_step4_title">🎉 나만의 보라빛 등불 완성!</h2>
          <p style="text-align:center;color:var(--text-muted);margin-bottom:20px;" id="ls-result-subtitle" data-i18n="lightstick.modal_step4_subtitle">당신의 사랑과 응원이 빛나는, 세상에 단 하나뿐인 등불입니다</p>
          <div id="ls-result-area" style="text-align:center;">
            <div id="ls-loading" style="display:none;padding:60px 0;">
              <div class="spinner" style="width:48px;height:48px;border:4px solid var(--border-color);border-top:4px solid var(--primary);border-radius:50%;animation:spin 1s linear infinite;margin:0 auto;"></div>
              <p style="margin-top:16px;color:var(--text-muted);" data-i18n="lightstick.loading">✨ AI가 등불을 디자인하고 있어요...</p>
              <p style="margin-top:8px;font-size:0.82rem;color:var(--text-muted);" data-i18n="lightstick.loading_sub">약 10~30초 정도 소요됩니다</p>
            </div>
            <div id="ls-result-image-wrap" style="display:none;">
              <img id="ls-result-image" src="" alt="나만의 등불" style="max-width:100%;max-height:400px;border-radius:16px;box-shadow:0 8px 32px rgba(124,58,237,0.3);">
              <div style="display:flex;justify-content:center;gap:12px;margin-top:20px;flex-wrap:wrap;">
                <button class="btn-primary" id="ls-download-btn" data-i18n="lightstick.modal_step4_download">💾 소중히 간직하기</button>
                <button class="btn-outline" id="ls-share-btn" data-i18n="lightstick.modal_step4_share">📤 함께 응원하기</button>
                <button class="btn-outline" id="ls-retry-btn" data-i18n="lightstick.modal_step4_retry">🔄 다시 만들기</button>
              </div>
              <!-- BTS 공식 커뮤니티 링크 -->
              <div id="ls-community-links" style="display:none;margin-top:16px;text-align:center;">
                <p style="font-size:0.85rem;color:var(--text-muted);margin-bottom:10px;" data-i18n="lightstick.modal_step4_community_desc">등불을 저장한 후, 같은 마음의 팬들과 함께 나눠요!</p>
                <div style="display:flex;justify-content:center;gap:10px;flex-wrap:wrap;">
                  <a href="https://weverse.io/bts/feed" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:linear-gradient(135deg,#0acf83,#00c6a0);color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>🌐</span> <span data-i18n="lightstick.link_weverse">Weverse (공식)</span>
                  </a>
                  <a href="https://www.instagram.com/bts.bighitofficial/" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:linear-gradient(135deg,#f09433,#e6683c,#dc2743,#cc2366,#bc1888);color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>📸</span> <span>Instagram</span>
                  </a>
                  <a href="https://x.com/BTS_twt" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#000;color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>𝕏</span> X (Twitter)
                  </a>
                  <a href="https://www.tiktok.com/@bts_official_bighit" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#010101;color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>🎵</span> TikTok
                  </a>
                  <a href="https://www.youtube.com/@BANGTANTV" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:#FF0000;color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>▶️</span> YouTube
                  </a>
                  <a href="https://cafe.daum.net/BANGTAN" target="_blank" rel="noopener noreferrer" class="ls-community-link" style="display:inline-flex;align-items:center;gap:6px;padding:8px 16px;border-radius:20px;background:linear-gradient(135deg,#7c3aed,#a855f7);color:#fff;font-size:0.82rem;font-weight:600;text-decoration:none;transition:transform 0.2s,box-shadow 0.2s;">
                    <span>💜</span> <span data-i18n="lightstick.link_fancafe">팬카페</span>
                  </a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- 내 탄생뮤직 가사 팝업 (저장 · SNS 공유) -->
  <div class="info-modal" id="soul-lyrics-modal" aria-hidden="true">
    <div class="info-modal-content soul-lyrics-modal-content" style="max-width:520px;">
      <button type="button" class="info-modal-close" id="soul-lyrics-modal-close" aria-label="닫기"><svg viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
      <div class="soul-lyrics-modal-inner">
        <h2 class="soul-lyrics-modal-title">✨ 내 탄생뮤직 가사</h2>
        <pre id="soul-lyrics-modal-body" class="soul-lyrics-modal-body"></pre>
        <div id="soul-lyrics-music-area" class="soul-lyrics-music-area" style="display:none;">
          <div class="soul-lyrics-music-status-wrap" id="soul-lyrics-music-status-wrap">
            <p id="soul-lyrics-music-status" class="soul-lyrics-music-status"></p>
            <div class="soul-lyrics-music-progress" id="soul-lyrics-music-progress" aria-hidden="true"><div class="soul-lyrics-music-progress-bar"></div></div>
            <p class="soul-lyrics-music-elapsed" id="soul-lyrics-music-elapsed"></p>
          </div>
          <audio id="soul-lyrics-audio" class="soul-lyrics-audio" controls style="width:100%;margin-top:8px;"></audio>
        </div>
        <p class="soul-lyrics-modal-note">※ 당신만의 한 편의 가사 — <strong>OpenAI</strong>가 작성했습니다.</p>
        <div class="soul-lyrics-modal-actions">
          <button type="button" id="soul-lyrics-save-btn" class="btn-primary soul-lyrics-btn soul-lyrics-btn-save">💾 가사 저장</button>
          <button type="button" id="soul-lyrics-save-song-btn" class="btn-primary soul-lyrics-btn soul-lyrics-btn-song" style="display:none;" title="생성된 음원 파일 저장">🎵 노래 저장</button>
          <button type="button" id="soul-lyrics-email-btn" class="btn-secondary soul-lyrics-btn">📧 이메일로 보내기</button>
          <button type="button" id="soul-lyrics-copy-btn" class="btn-outline soul-lyrics-btn">📋 복사</button>
        </div>
        <p class="soul-lyrics-share-label">공유하기 · 보라해 링크</p>
        <div class="soul-lyrics-sns-links" id="soul-lyrics-sns-links">
          <a href="https://weverse.io/bts/feed" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn soul-lyrics-sns-borahae" data-sns="borahae" title="BTS 공식 커뮤니티 (Weverse)">보라해</a>
          <a href="https://x.com/BTS_twt" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="twitter" title="BTS X (트위터)">𝕏</a>
          <a href="https://www.facebook.com/bts.official" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="facebook" title="BTS 페이스북">f</a>
          <a href="https://www.instagram.com/bts.bighitofficial/" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="instagram" title="BTS 인스타그램">IG</a>
          <a href="https://www.youtube.com/@BTS" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="youtube" title="BTS 공식 유튜브">YT</a>
          <a href="https://pf.kakao.com/_xgcUxfxb" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="kakaostory" title="BTS 공식 카카오톡 채널">K</a>
          <a href="https://band.us/plugin/share" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="band" title="밴드 공유">B</a>
          <a href="https://share.naver.com/web/shareView" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="naver" title="네이버 공유">N</a>
          <a href="https://line.me/R/msg/text/" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="line" title="라인 공유">L</a>
          <a href="#" target="_blank" rel="noopener noreferrer" class="soul-lyrics-sns-btn" data-sns="url" title="이 페이지 링크 복사">🔗</a>
        </div>
      </div>
    </div>
  </div>

  <!-- BGM 가사 모달 (음악 재생 시 가사가 자연스럽게 올라가는 느낌) -->
  <div class="info-modal" id="bgm-lyrics-modal" aria-hidden="true">
    <div class="info-modal-content bgm-lyrics-modal-content" style="max-width:480px;">
      <button type="button" class="info-modal-close" id="bgm-lyrics-modal-close" aria-label="닫기"><svg viewBox="0 0 24 24" fill="none"><path d="M18 6L6 18M6 6l12 12" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg></button>
      <div class="bgm-lyrics-modal-inner">
        <h2 class="bgm-lyrics-modal-title">🎵 BGM 가사</h2>
        <div class="bgm-lyrics-scroll-wrap" id="bgm-lyrics-scroll-wrap">
          <pre class="bgm-lyrics-text" id="bgm-lyrics-text"></pre>
        </div>
        <p class="bgm-lyrics-modal-note">BGM 재생 중 가사가 자연스럽게 올라갑니다.</p>
      </div>
    </div>
  </div>

  <!-- Shop Section (NEW) -->
  <!-- STORE: 보라 굿즈 (워치페이스 · 실물 굿즈) -->
  <section id="shop" class="lookbook">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="shop.badge">STORE · 보라 굿즈</span>
        <h2 class="section-title" data-i18n="shop.title">발견한 자아와 일궈낸 안식처를, 일상의 빛으로 소장</h2>
        <p class="section-description" data-i18n="shop.desc">디지털 워치페이스, 무드등, 포토카드, 의류까지 — 생성한 결과물을 상품으로 만나보세요</p>
      </div>
      <div class="shop-categories" style="display:flex;gap:12px;justify-content:center;margin-bottom:32px;flex-wrap:wrap;">
        <a href="#shop-clothing" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;" data-i18n="shop.cat_clothing">보라해 의류</a>
        <a href="#shop-ecobag" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;" data-i18n="shop.cat_ecobag">에코백</a>
        <a href="#shop-phonecase" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;" data-i18n="shop.cat_phonecase">폰케이스</a>
        <a href="#shop-keyring" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;" data-i18n="shop.cat_keyring">키링 · 액세서리</a>
        <a href="#shop-stationery" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;" data-i18n="shop.cat_stationery">문구 · 다이어리</a>
        <a href="#shop-sticker" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;" data-i18n="shop.cat_sticker">스티커 · 데코</a>
        <a href="#boratime" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;border-color:var(--primary);color:var(--primary);" data-i18n="shop.cat_boratime">시계 · 보라타임</a>
        <a href="#shop-lightstick" class="btn-outline shop-cat-btn" style="border-radius:20px;padding:8px 20px;font-size:0.9rem;border-color:var(--primary);color:var(--primary);" data-i18n="shop.cat_lightstick">응원봉(기억의 등불)</a>
      </div>

      <!-- 기억의 등불 · 나만의 굿즈 (STORE 내 굿즈 코너) -->
      <div id="shop-lightstick" class="shop-cat-block active" style="padding-top:32px;">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_lightstick_title">나만의 응원봉(기억의 등불) · 커스텀 굿즈</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_lightstick_desc">매직샵에서 일궈낸 당신의 안식처를 한 줄기 빛으로 담아, 일상을 밝히는 고유한 굿즈를 완성하세요.</p>
          </div>
          <div class="shop-lightstick-sections" style="max-width:600px;margin:0 auto 32px;">
            <div class="shop-lightstick-card" style="border-radius:24px;overflow:hidden;background:var(--bg-tertiary);border:2px solid var(--border-color);padding:40px;text-align:center;box-shadow: 0 20px 40px rgba(0,0,0,0.1);">
              <h3 style="font-size:1.5rem;margin-bottom:12px;color:var(--text-primary);" data-i18n="shop.lightstick_custom">커스텀 응원봉(기억의 등불)</h3>
              <p style="font-size:1rem;color:var(--text-muted);margin-bottom:24px;" data-i18n="shop.lightstick_custom_desc">당신의 공간을 투영하는 빛의 매개체 · 홀로그램 프리뷰</p>
              <div style="min-height:180px;background:linear-gradient(180deg, rgba(124,58,237,0.15) 0%, rgba(236,72,153,0.1) 100%);border-radius:20px;margin-bottom:24px;display:flex;align-items:center;justify-content:center;">
                <span style="font-size:4rem;opacity:0.9;filter: drop-shadow(0 0 20px rgba(167, 139, 250, 0.5));">💜</span>
              </div>
              <button type="button" class="btn-primary btn-large" id="open-lightstick-btn" data-login-required style="width:100%;font-size:1.1rem;padding:18px;" data-i18n="lightstick.btn_start" onclick="document.getElementById('lightstick-modal').classList.add('active');document.body.style.overflow='hidden';">나만의 등불, 지금 밝히기 💜</button>
              <p style="margin-top:16px;font-size:0.9rem;color:var(--text-muted);" data-i18n="lightstick.plan_info">Free: 월 1회 | Purple: 월 10회 | VIP: 무제한 생성</p>
            </div>
          </div>
          <p style="text-align:center;margin-top:16px;">
            <button type="button" class="btn-outline btn-sm" data-i18n="shop.lightstick_order_btn">제작 신청하기</button>
            <span style="margin:0 8px;color:var(--text-muted);">·</span>
            <button type="button" class="btn-outline btn-sm">NFT 발급받기</button>
          </p>
        </div>
      </div>

      <!-- 의류 -->
      <div id="shop-clothing" class="shop-cat-block">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_clothing_title">보라해 의류</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_clothing_desc">당신의 선율을 닮은 보라빛 실루엣</p>
          </div>
          <!-- 메인 히어로 이미지 -->
          <div style="max-width:720px;margin:0 auto 24px;border-radius:20px;overflow:hidden;box-shadow:0 8px 32px rgba(124,58,237,0.15);">
            <img src="image/goodz/보라해 의류/a/a.jpeg" alt="보라해 의류 시즌 컬렉션" style="width:100%;display:block;" loading="lazy">
          </div>
          <div class="shop-cat-gallery">
            <div class="shop-cat-item" style="position:relative;"><img src="image/goodz/보라해 의류/a/a2.jpeg" alt="보라해 의류 — 봄 컬렉션" loading="lazy"><span style="position:absolute;bottom:10px;left:14px;background:rgba(255,255,255,0.85);backdrop-filter:blur(4px);padding:4px 12px;border-radius:20px;font-size:0.78rem;font-weight:700;color:#ec4899;">🌸 봄 Spring</span></div>
            <div class="shop-cat-item" style="position:relative;"><img src="image/goodz/보라해 의류/a/a1.jpeg" alt="보라해 의류 — 여름 컬렉션" loading="lazy"><span style="position:absolute;bottom:10px;left:14px;background:rgba(255,255,255,0.85);backdrop-filter:blur(4px);padding:4px 12px;border-radius:20px;font-size:0.78rem;font-weight:700;color:#3b82f6;">☀️ 여름 Summer</span></div>
            <div class="shop-cat-item" style="position:relative;"><img src="image/goodz/보라해 의류/a/a3.jpeg" alt="보라해 의류 — 가을 컬렉션" loading="lazy"><span style="position:absolute;bottom:10px;left:14px;background:rgba(255,255,255,0.85);backdrop-filter:blur(4px);padding:4px 12px;border-radius:20px;font-size:0.78rem;font-weight:700;color:#f59e0b;">🍂 가을 Autumn</span></div>
            <div class="shop-cat-item" style="position:relative;"><img src="image/goodz/보라해 의류/a/a4.jpeg" alt="보라해 의류 — 겨울 컬렉션" loading="lazy"><span style="position:absolute;bottom:10px;left:14px;background:rgba(255,255,255,0.85);backdrop-filter:blur(4px);padding:4px 12px;border-radius:20px;font-size:0.78rem;font-weight:700;color:#7c3aed;">❄️ 겨울 Winter</span></div>
          </div>
          <p style="text-align:center;margin-top:16px;"><a href="https://search.shopping.naver.com/search/all?query=보라색+티셔츠+보라해" target="_blank" rel="noopener noreferrer" class="btn-outline btn-sm" data-i18n="shop.view_naver">네이버 쇼핑에서 보기</a></p>
          <div style="text-align:center;margin-top:20px;">
            <a href="#" class="btn-primary btn-large shop-app-cta" data-i18n="shop.app_cta">앱에서 만나기</a>
            <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="shop.app_cta_sub">앱에서 더 많은 굿즈를 만나보세요</p>
          </div>
        </div>
      </div>

      <!-- 에코백 -->
      <div id="shop-ecobag" class="shop-cat-block">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_ecobag_title">에코백</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_ecobag_desc">일상과 콘서트 모두 담는 보라빛 가방</p>
          </div>
          <div class="shop-cat-gallery">
            <div class="shop-cat-item"><img src="image/goodz/에코백/1.jpeg" alt="에코백 1" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/에코백/2.jpeg" alt="에코백 2" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/에코백/3.jpeg" alt="에코백 3" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/에코백/4.jpeg" alt="에코백 4" loading="lazy"></div>
          </div>
          <p style="text-align:center;margin-top:16px;"><a href="https://search.shopping.naver.com/search/all?query=보라색+에코백" target="_blank" rel="noopener noreferrer" class="btn-outline btn-sm" data-i18n="shop.view_naver">네이버 쇼핑에서 보기</a></p>
          <div style="text-align:center;margin-top:20px;">
            <a href="#" class="btn-primary btn-large shop-app-cta" data-i18n="shop.app_cta">앱에서 만나기</a>
            <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="shop.app_cta_sub">앱에서 더 많은 굿즈를 만나보세요</p>
          </div>
        </div>
      </div>

      <!-- 폰케이스 -->
      <div id="shop-phonecase" class="shop-cat-block">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_phonecase_title">폰케이스</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_phonecase_desc">보라해 감성의 스마트폰 케이스</p>
          </div>
          <div class="shop-cat-gallery">
            <div class="shop-cat-item"><img src="image/goodz/폰케이스/1.jpg" alt="폰케이스 1" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/폰케이스/2.jpeg" alt="폰케이스 2" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/폰케이스/3.jpeg" alt="폰케이스 3" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/폰케이스/4.jpeg" alt="폰케이스 4" loading="lazy"></div>
          </div>
          <p style="text-align:center;margin-top:16px;"><a href="https://search.shopping.naver.com/search/all?query=보라색+폰케이스+갤럭시+아이폰" target="_blank" rel="noopener noreferrer" class="btn-outline btn-sm" data-i18n="shop.view_naver">네이버 쇼핑에서 보기</a></p>
          <div style="text-align:center;margin-top:20px;">
            <a href="#" class="btn-primary btn-large shop-app-cta" data-i18n="shop.app_cta">앱에서 만나기</a>
            <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="shop.app_cta_sub">앱에서 더 많은 굿즈를 만나보세요</p>
          </div>
        </div>
      </div>

      <!-- 키링 · 악세서리 -->
      <div id="shop-keyring" class="shop-cat-block">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_keyring_title">키링 · 악세서리</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_keyring_desc">가방에 달아두는 보라빛 키링과 소품</p>
          </div>
          <div class="shop-cat-gallery">
            <div class="shop-cat-item"><img src="image/goodz/키링 엑세서리/1.jpg" alt="키링 1" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/키링 엑세서리/2.jpg" alt="키링 2" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/키링 엑세서리/3.jpg" alt="키링 3" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/키링 엑세서리/4.jpg" alt="키링 4" loading="lazy"></div>
          </div>
          <p style="text-align:center;margin-top:16px;"><a href="https://search.shopping.naver.com/search/all?query=보라색+키링+보라해" target="_blank" rel="noopener noreferrer" class="btn-outline btn-sm" data-i18n="shop.view_naver">네이버 쇼핑에서 보기</a></p>
          <div style="text-align:center;margin-top:20px;">
            <a href="#" class="btn-primary btn-large shop-app-cta" data-i18n="shop.app_cta">앱에서 만나기</a>
            <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="shop.app_cta_sub">앱에서 더 많은 굿즈를 만나보세요</p>
          </div>
        </div>
      </div>

      <!-- 문구 · 다이어리 -->
      <div id="shop-stationery" class="shop-cat-block">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_stationery_title">문구 · 다이어리</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_stationery_desc">덕질 기록을 담는 노트와 다이어리</p>
          </div>
          <div class="shop-cat-gallery">
            <div class="shop-cat-item"><img src="image/goodz/문구 다이어리/1.jpg" alt="문구 1" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/문구 다이어리/2.jpg" alt="문구 2" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/문구 다이어리/3.jpg" alt="문구 3" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/문구 다이어리/4.jpg" alt="문구 4" loading="lazy"></div>
          </div>
          <p style="text-align:center;margin-top:16px;"><a href="https://search.shopping.naver.com/search/all?query=보라색+다이어리+노트" target="_blank" rel="noopener noreferrer" class="btn-outline btn-sm" data-i18n="shop.view_naver">네이버 쇼핑에서 보기</a></p>
          <div style="text-align:center;margin-top:20px;">
            <a href="#" class="btn-primary btn-large shop-app-cta" data-i18n="shop.app_cta">앱에서 만나기</a>
            <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="shop.app_cta_sub">앱에서 더 많은 굿즈를 만나보세요</p>
          </div>
        </div>
      </div>

      <!-- 스티커 · 데코 -->
      <div id="shop-sticker" class="shop-cat-block">
        <div class="container">
          <div class="section-header shop-cat-header" style="margin-bottom:24px;">
            <h2 class="section-title shop-cat-title-lg" data-i18n="shop.cat_sticker_title">스티커 · 데코</h2>
            <p class="section-description shop-cat-desc-lg" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="shop.cat_sticker_desc">폰·노트북을 꾸미는 보라빛 스티커</p>
          </div>
          <div class="shop-cat-gallery">
            <div class="shop-cat-item"><img src="image/goodz/스티커 데코/1.jpg" alt="스티커 1" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/스티커 데코/2.jpg" alt="스티커 2" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/스티커 데코/3.jpg" alt="스티커 3" loading="lazy"></div>
            <div class="shop-cat-item"><img src="image/goodz/스티커 데코/4.jpg" alt="스티커 4" loading="lazy"></div>
          </div>
          <p style="text-align:center;margin-top:16px;"><a href="https://search.shopping.naver.com/search/all?query=보라색+스티커+데코" target="_blank" rel="noopener noreferrer" class="btn-outline btn-sm" data-i18n="shop.view_naver">네이버 쇼핑에서 보기</a></p>
          <div style="text-align:center;margin-top:20px;">
            <a href="#" class="btn-primary btn-large shop-app-cta" data-i18n="shop.app_cta">앱에서 만나기</a>
            <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="shop.app_cta_sub">앱에서 더 많은 굿즈를 만나보세요</p>
          </div>
        </div>
      </div>
  </section>

  <!-- BORATIME Section: 시계도 패션, 팬심 시계 페이스 앱 -->
  <section id="boratime" class="boratime-section" style="background:linear-gradient(180deg, var(--bg-secondary) 0%, var(--bg-primary) 100%);padding:64px 0;">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="boratime.badge">Chapter 3. Voyage</span>
        <h2 class="section-title" data-i18n-html="boratime.title">인생의 나침반,<br>당신의 모든 순간을 기록하고 인도합니다</h2>
        <p class="section-description" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="boratime.desc">당신의 호흡과 맥박을 기억하는 영혼의 파트너. 잠든 순간부터 깨어있는 모든 시간까지, 당신이 길을 잃지 않도록 가장 나다운 리듬으로 미래를 안내합니다.</p>
      </div>
      <div class="boratime-gallery" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;max-width:960px;margin:32px auto 24px;">
        <div class="boratime-card" style="border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(124,58,237,0.2);background:var(--bg-tertiary);">
          <img src="image/BORATIME.jpeg" alt="BORATIME 시계 페이스" style="width:100%;height:auto;display:block;" loading="lazy">
        </div>
        <div class="boratime-card" style="border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(124,58,237,0.2);background:var(--bg-tertiary);">
          <img src="image/BORATIME-DESIGN.jpeg" alt="BORATIME 디자인 컨셉" style="width:100%;height:auto;display:block;" loading="lazy">
        </div>
      </div>
      <!-- 자음타임 · 모음타임 (양쪽 시계 아래 한글 자모 워치페이스) -->
      <div class="boratime-jamo-row" style="display:grid;grid-template-columns:repeat(2,1fr);gap:24px;max-width:900px;margin:0 auto 24px;">
        <div class="boratime-jamo-card" style="border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(124,58,237,0.2);background:var(--bg-tertiary);">
          <img src="image/name/jamo/jatime.jpeg" alt="자음타임 — 한글 자음 캐릭터 워치페이스" style="width:100%;height:auto;display:block;" loading="lazy" onerror="this.onerror=null; this.src='image/name/jamo/jatime.jpg'; this.onerror=null; this.onerror=function(){ this.src='image/name/jamo/jatime.png'; };">
        </div>
        <div class="boratime-jamo-card" style="border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(124,58,237,0.2);background:var(--bg-tertiary);">
          <img src="image/name/jamo/motime.jpeg" alt="모음타임 — 한글 모음 캐릭터 워치페이스" style="width:100%;height:auto;display:block;" loading="lazy" onerror="this.onerror=null; this.src='image/name/jamo/motime.jpg'; this.onerror=null; this.onerror=function(){ this.src='image/name/jamo/motime.png'; };">
        </div>
      </div>
      <!-- 안식처 · 기억의 등불 워치페이스 (하단 배치) -->
      <div class="boratime-jamo-row boratime-jamo-row-sub" style="display:grid;grid-template-columns:repeat(2,1fr);gap:24px;max-width:900px;margin:0 auto 40px;">
        <div class="boratime-jamo-card" style="border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(124,58,237,0.2);background:var(--bg-tertiary);">
          <img src="image/hangeul/arctime.png" alt="안식처 워치페이스" style="width:100%;height:auto;display:block;" loading="lazy">
        </div>
        <div class="boratime-jamo-card" style="border-radius:20px;overflow:hidden;box-shadow:0 12px 40px rgba(124,58,237,0.2);background:var(--bg-tertiary);">
          <img src="image/goodz/stic.png" alt="응원봉(기억의 등불) 워치페이스" style="width:100%;height:auto;display:block;" loading="lazy">
        </div>
      </div>
      <div style="text-align:center;">
        <a href="#" class="btn-primary btn-large" id="boratime-app-cta" data-i18n="boratime.cta">앱에서 만나기</a>
        <p style="margin-top:12px;font-size:0.85rem;color:var(--text-muted);" data-i18n="boratime.cta_sub">앱스토어 · 플레이스토어 다운로드</p>
      </div>
    </div>
  </section>

  <!-- Fan Community Section -->
  <section id="community" class="features" style="background:var(--bg-primary);padding:64px 0;scroll-margin-top:80px;">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="community.badge">Community</span>
        <h2 class="section-title" data-i18n="community.title">팬 커뮤니티</h2>
        <p class="section-description" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="community.desc">같은 마음으로 보라해를 외치는 팬들과 소통하고, 덕질 일상을 공유하는 따뜻한 공간입니다. 앱에서 실시간 채팅, 게시판, 팬 소모임을 만나보세요.</p>
      </div>
      <div style="text-align:center;margin-top:24px;">
        <button type="button" id="open-community-btn" class="btn-primary btn-large" data-i18n="community.cta">앱에서 커뮤니티 이용하기</button>
      </div>
    </div>
  </section>

  <!-- Events Section -->
  <section id="events" class="features" style="background:var(--bg-secondary);padding:64px 0;scroll-margin-top:80px;">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="events.badge">Events</span>
        <h2 class="section-title" data-i18n="events.title">이벤트 기획</h2>
        <p class="section-description" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="events.desc">생일 카페, 스트리밍 파티, 팬 프로젝트—함께 만드는 특별한 순간을 기획하고 참여하세요. 진행 중인 이벤트와 참여 방법을 앱에서 확인할 수 있습니다.</p>
      </div>
      <div style="text-align:center;margin-top:24px;">
        <button type="button" id="open-events-btn" class="btn-primary btn-large" data-i18n="events.cta">이벤트 일정 보기</button>
      </div>
    </div>
  </section>

  <!-- Fan Content Section -->
  <section id="content" class="features" style="background:var(--bg-primary);padding:64px 0;scroll-margin-top:80px;">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="content.badge">Fan Content</span>
        <h2 class="section-title" data-i18n="content.title">팬 콘텐츠</h2>
        <p class="section-description" style="max-width:560px;margin-left:auto;margin-right:auto;" data-i18n="content.desc">팬아트, 팬픽션, 에디트 영상—크리에이터들의 작품을 감상하고, 내 작품도 공유하세요. 보라해 앱 갤러리에서 팬 제작 콘텐츠를 만나보실 수 있습니다.</p>
      </div>
      <div style="text-align:center;margin-top:24px;">
        <button type="button" id="open-content-btn" class="btn-primary btn-large" data-i18n="content.cta">콘텐츠 갤러리 보기</button>
      </div>
    </div>
  </section>

  <!-- Membership Section (NEW) -->
  <section id="membership" class="cta-section" style="background: var(--bg-secondary);scroll-margin-top:80px;">
    <div class="container">
      <div class="section-header" style="margin-bottom:40px;">
        <span class="section-badge" data-i18n="membership.badge">Membership</span>
        <h2 class="section-title" data-i18n="membership.title">보라해 멤버십</h2>
        <p class="section-description" data-i18n="membership.desc">당신의 팬 라이프에 딱 맞는 플랜을 선택하세요</p>
      </div>
      <div class="membership-grid" style="display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:24px;max-width:960px;margin:0 auto;">
        <div class="feature-card" style="text-align:center;padding:32px 24px;">
          <div style="font-size:1.5rem;font-weight:700;color:var(--text-secondary);margin-bottom:8px;" data-i18n="membership.free">Free</div>
          <div style="font-size:2.5rem;font-weight:900;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:16px;">₩0<small style="font-size:0.9rem;font-weight:400;" data-i18n="membership.per_month">/월</small></div>
          <ul style="list-style:none;text-align:left;margin-bottom:24px;line-height:2.2;">
            <li>✅ <span data-i18n="membership.free_f1">AI 스타일링 월 3회</span></li>
            <li>✅ <span data-i18n="membership.free_f2">커뮤니티 접근</span></li>
            <li>✅ <span data-i18n="membership.free_f3">룩북 갤러리</span></li>
            <li>❌ <span data-i18n="membership.free_f4">굿즈 할인</span></li>
            <li>✅ <span data-i18n="membership.free_f5">전자책 1권 무료 제공</span></li>
          </ul>
          <button class="btn-outline btn-large" style="width:100%;" data-i18n="membership.btn_free">무료로 시작</button>
        </div>
        <div class="feature-card" style="text-align:center;padding:32px 24px;border:2px solid var(--primary);position:relative;">
          <div style="position:absolute;top:-12px;left:50%;transform:translateX(-50%);background:var(--gradient-primary);color:#fff;padding:4px 16px;border-radius:12px;font-size:0.8rem;font-weight:600;" data-i18n="membership.popular">POPULAR</div>
          <div style="font-size:1.5rem;font-weight:700;color:var(--primary);margin-bottom:8px;" data-i18n="membership.purple">Purple</div>
          <div style="font-size:2.5rem;font-weight:900;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:16px;">₩9,900<small style="font-size:0.9rem;font-weight:400;" data-i18n="membership.per_month">/월</small></div>
          <ul style="list-style:none;text-align:left;margin-bottom:24px;line-height:2.2;">
            <li>✅ <span data-i18n="membership.purple_f1">AI 스타일링 무제한</span></li>
            <li>✅ <span data-i18n="membership.purple_f2">커뮤니티 + 이벤트</span></li>
            <li>✅ <span data-i18n="membership.purple_f3">굿즈 10% 할인</span></li>
            <li>✅ <span data-i18n="membership.purple_f4">전자책 전권(1~4권) 제공</span></li>
            <li>❌ <span data-i18n="membership.purple_f5">1:1 코디 상담</span></li>
          </ul>
          <button type="button" class="btn-primary btn-large membership-checkout-btn" style="width:100%;" data-i18n="membership.btn_purple" data-plan="purple" data-product-id="ab0e92a7-a0bf-4572-9373-514707f58439">Purple 시작</button>
        </div>
        <div class="feature-card" style="text-align:center;padding:32px 24px;">
          <div style="font-size:1.5rem;font-weight:700;color:var(--secondary);margin-bottom:8px;" data-i18n="membership.vip">VIP 보라해</div>
          <div style="font-size:2.5rem;font-weight:900;background:var(--gradient-primary);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:16px;">₩19,900<small style="font-size:0.9rem;font-weight:400;" data-i18n="membership.per_month">/월</small></div>
          <ul style="list-style:none;text-align:left;margin-bottom:24px;line-height:2.2;">
            <li>✅ <span data-i18n="membership.vip_f1">AI 스타일링 무제한</span></li>
            <li>✅ <span data-i18n="membership.vip_f2">모든 Purple 혜택</span></li>
            <li>✅ <span data-i18n="membership.vip_f3">굿즈 20% 할인</span></li>
            <li>✅ <span data-i18n="membership.vip_f4">1:1 AI 코디 상담</span></li>
            <li>✅ <span data-i18n="membership.vip_f5">이벤트 우선 참여 + VIP 배지</span></li>
          </ul>
          <button type="button" class="btn-primary btn-large membership-checkout-btn" style="width:100%;background:linear-gradient(135deg,var(--secondary),var(--primary));color:#ffffff;" data-i18n="membership.btn_vip" data-plan="vip" data-product-id="ab0e92a7-a0bf-4572-9373-514707f58439">VIP 시작</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Lookbook Section: 연예인 룩 + 유사 옷 검색 (참고: kpop.fit) -->
  <section class="lookbook" id="lookbook-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="lookbook.badge">Lookbook</span>
        <h2 class="section-title" data-i18n="lookbook.title">연예인 룩</h2>
        <p class="section-description" data-i18n="lookbook.desc">연예인·아이돌 룩 사진을 올리면 AI가 비슷한 옷 검색어로 정리해드려요</p>
      </div>

      <!-- 연예인 룩 업로드 + 유사 검색 (상단 블록, 보라해 컨셉) -->
      <div class="celeblook-block">
        <div class="celeblook-upload-wrap" id="celeblook-upload-wrap">
          <p class="celeblook-mood-label" data-i18n="lookbook.celeblook_mood_label">이 룩의 무드 (선택)</p>
          <div class="celeblook-mood-chips" id="celeblook-mood-chips" role="group" aria-label="룩 무드 선택">
            <button type="button" class="celeblook-mood-chip" data-mood="concert" data-i18n="lookbook.mood_concert">콘서트 무대</button>
            <button type="button" class="celeblook-mood-chip" data-mood="airport" data-i18n="lookbook.mood_airport">공항·여행</button>
            <button type="button" class="celeblook-mood-chip" data-mood="daily" data-i18n="lookbook.mood_daily">일상·데일리</button>
            <button type="button" class="celeblook-mood-chip" data-mood="fanmeeting" data-i18n="lookbook.mood_fanmeeting">팬미팅</button>
            <button type="button" class="celeblook-mood-chip" data-mood="studio" data-i18n="lookbook.mood_studio">스튜디오·촬영</button>
          </div>
          <input type="file" id="celeblook-input" accept="image/*" hidden aria-label="연예인 룩 사진 선택" data-login-required>
          <div class="celeblook-dropzone" id="celeblook-dropzone" data-login-required role="button" tabindex="0">
            <div class="celeblook-dropzone-inner">
              <span class="celeblook-icon">📷</span>
              <p class="celeblook-upload-text" data-i18n="lookbook.celeblook_upload">연예인 룩 사진을 올려주세요</p>
              <p class="celeblook-upload-hint" data-i18n="lookbook.celeblook_hint">무대·직캠·공항룩 캡처도 OK</p>
            </div>
          </div>
          <div class="celeblook-url-wrap">
            <input type="url" id="celeblook-photo-url" class="celeblook-photo-url-input" placeholder="이미지 주소(URL) 붙여넣기" aria-label="이미지 URL">
            <button type="button" id="celeblook-photo-url-btn" class="celeblook-photo-url-btn" data-login-required>불러오기</button>
          </div>
        </div>
        <div class="celeblook-loading" id="celeblook-loading" style="display:none;">
          <div class="loading-spinner"></div>
          <p data-i18n="lookbook.celeblook_analyzing">룩을 분석하고 있어요...</p>
        </div>
        <div class="celeblook-result" id="celeblook-result" style="display:none;">
          <div class="celeblook-result-preview" id="celeblook-result-preview"></div>
          <div class="celeblook-summary-wrap">
            <h4 class="celeblook-summary-title" data-i18n="lookbook.celeblook_summary_title">분석 결과 요약</h4>
            <p class="celeblook-summary-text" id="celeblook-summary-text"></p>
          </div>
          <div class="celeblook-style-tags-wrap">
            <span class="celeblook-style-tags-label" data-i18n="lookbook.celeblook_style_tags">스타일 태그</span>
            <div class="celeblook-style-tags" id="celeblook-style-tags"></div>
          </div>
          <div class="celeblook-copy-row">
            <button type="button" class="btn-celeblook-copy" id="celeblook-copy-all" data-i18n="lookbook.celeblook_copy_all">전체 복사</button>
            <span class="celeblook-copy-toast" id="celeblook-copy-toast" aria-live="polite" data-i18n="lookbook.celeblook_copy_toast">복사됐어요 💜</span>
          </div>
          <div class="celeblook-item-cards" id="celeblook-item-cards"></div>
          <p class="celeblook-disclaimer" data-i18n="lookbook.celeblook_disclaimer1">링크는 검색 결과로 이동해요. 동일 제품이 아닐 수 있어요.</p>
          <p class="celeblook-disclaimer" data-i18n="lookbook.celeblook_disclaimer2">브랜드/정확한 모델명은 확실한 경우에만 표시해요. 일부 정보는 추정입니다.</p>
          <button type="button" class="btn-celeblook-retry" id="celeblook-retry" data-i18n="lookbook.celeblook_retry">다른 사진으로 다시</button>
        </div>
        <p class="celeblook-privacy" data-i18n="lookbook.celeblook_privacy">이미지는 저장하지 않아요. 결과(검색어)만 표시돼요.</p>
      </div>

      <p class="lookbook-divider" data-i18n="lookbook.signature_label">참고용 시그니처 룩</p>
      <div class="lookbook-grid">
        <div class="look-card look-large">
          <div class="look-image look-1">
            <div class="look-overlay">
              <span class="look-tag">Concert</span>
              <h3 data-i18n="lookbook.concert">콘서트 글램</h3>
              <p data-i18n="lookbook.concert_desc">무대 위 조명 아래 빛나는 보라빛 콘서트 룩</p>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-2">
            <div class="look-overlay">
              <span class="look-tag">Fan Meeting</span>
              <h3 data-i18n="lookbook.fanmeeting">팬미팅 코디</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-3">
            <div class="look-overlay">
              <span class="look-tag">Daily K-pop</span>
              <h3 data-i18n="lookbook.daily">데일리 K-pop</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-4">
            <div class="look-overlay">
              <span class="look-tag">Casual</span>
              <h3 data-i18n="lookbook.casual">덕질 캐주얼</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-5">
            <div class="look-overlay">
              <span class="look-tag">Purple Mood</span>
              <h3 data-i18n="lookbook.purple">보라해 무드</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-6">
            <div class="look-overlay">
              <span class="look-tag">Airport</span>
              <h3 data-i18n="lookbook.airport">아이돌 공항 패션</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-7">
            <div class="look-overlay">
              <span class="look-tag">Backstage</span>
              <h3 data-i18n="lookbook.backstage">백스테이지 스타일</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
        <div class="look-card">
          <div class="look-image look-8">
            <div class="look-overlay">
              <span class="look-tag">Street</span>
              <h3 data-i18n="lookbook.street">스트릿 보라해</h3>
              <button class="btn-look">View Look</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Testimonials -->
  <section class="testimonials">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="testimonials.badge">Reviews</span>
        <h2 class="section-title" data-i18n="testimonials.title">보라해 팬들의 이야기</h2>
      </div>
      <div class="testimonial-grid">
        <div class="testimonial-card">
          <div class="testimonial-rating">★★★★★</div>
          <p data-i18n="testimonials.review1">"콘서트 갈 때 뭘 입을지 항상 고민이었는데, AI가 퍼스널 컬러에 맞춰 추천해줘서 매번 완벽한 코디 완성!"</p>
          <div class="testimonial-author">
            <div class="author-avatar">JY</div>
            <div class="author-info">
              <span class="author-name" data-i18n="testimonials.author1_name">지영</span>
              <span class="author-role" data-i18n="testimonials.author1_role">K-pop 팬, 28세</span>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-rating">★★★★★</div>
          <p data-i18n="testimonials.review2">"보라해 굿즈샵에서 보라빛 에코백 구매했는데 팬미팅에서 옆자리 팬이 같은 거 들고 와서 바로 친구됨 ㅋㅋ"</p>
          <div class="testimonial-author">
            <div class="author-avatar">MJ</div>
            <div class="author-info">
              <span class="author-name" data-i18n="testimonials.author2_name">민준</span>
              <span class="author-role" data-i18n="testimonials.author2_role">대학생, 24세</span>
            </div>
          </div>
        </div>
        <div class="testimonial-card">
          <div class="testimonial-rating">★★★★★</div>
          <p data-i18n="testimonials.review3">"멤버십 가입하고 이벤트 기획에 참여했어요. 같은 마음의 팬들과 함께하니까 덕질이 100배 즐거워요!"</p>
          <div class="testimonial-author">
            <div class="author-avatar">SH</div>
            <div class="author-info">
              <span class="author-name" data-i18n="testimonials.author3_name">서현</span>
              <span class="author-role" data-i18n="testimonials.author3_role">보라해 VIP, 32세</span>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Section -->
  <section id="about" class="about-section">
    <div class="container">
      <div class="about-content">
        <div class="about-image">
          <div class="about-img-wrapper">
            <img src="image/soave/background2.jpeg" alt="BORAHAE - K-pop 팬 라이프스타일">
            <div class="about-badge">
              <span class="badge-number">2026</span>
              <span class="badge-text">Since</span>
            </div>
          </div>
        </div>
        <div class="about-text">
          <span class="section-badge" data-i18n="about.badge">About Us</span>
          <h2 class="section-title" data-i18n-html="about.title">보라해,<br>팬이 만드는 세상</h2>
          <p class="about-description" data-i18n="about.desc">
            보라해(BORAHAE)는 K-pop을 사랑하는 팬들이 만들어가는 독립 라이프스타일 플랫폼입니다.
            AI 스타일링, 팬 굿즈, 커뮤니티, 이벤트를 통해 팬덤의 새로운 가능성을 열어갑니다.
          </p>
          <div class="about-features">
            <div class="about-feature">
              <div class="feature-icon-small">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                  <path d="M2 17l10 5 10-5"/>
                  <path d="M2 12l10 5 10-5"/>
                </svg>
              </div>
              <div style="flex: 1;">
                <h4 data-i18n="about.tech_title">AI 스타일링</h4>
                <p data-i18n="about.tech_desc">K-pop 감성 맞춤 코디 추천</p>
              </div>
            </div>
            <div class="about-feature">
              <div class="feature-icon-small">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <circle cx="12" cy="12" r="10"/>
                  <path d="M12 6v6l4 2"/>
                </svg>
              </div>
              <div style="flex: 1;">
                <h4 data-i18n="about.realtime_title">팬 커뮤니티</h4>
                <p data-i18n="about.realtime_desc">보라해를 외치는 팬들의 공간</p>
              </div>
            </div>
            <div class="about-feature">
              <div class="feature-icon-small">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M17 21v-2a4 4 0 0 0-4-4H5a4 4 0 0 0-4 4v2"/>
                  <circle cx="9" cy="7" r="4"/>
                  <path d="M23 21v-2a4 4 0 0 0-3-3.87"/>
                  <path d="M16 3.13a4 4 0 0 1 0 7.75"/>
                </svg>
              </div>
              <div style="flex: 1;">
                <h4 data-i18n="about.users_title">50K+ 보라해 팬</h4>
                <p data-i18n="about.users_desc">함께 만드는 팬 라이프</p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- E-Book Section -->
  <section id="ebook" class="ebook-section">
    <div class="container">
      <div class="section-header">
        <span class="section-badge" data-i18n="ebook.badge">Borahae Library</span>
        <h2 class="section-title" data-i18n="ebook.title">AI, 인간의 마음을 그리다</h2>
        <p class="section-description" data-i18n="ebook.desc">AI 기술과 인문학이 만나는 4권의 특별한 여정. 보라해 팬들을 위한 전자책 시리즈를 만나보세요.</p>
      </div>

      <div class="ebook-grid">
        <!-- Book 1 -->
        <div class="ebook-card">
          <div class="book-badge-tag">VOL.01</div>
          <div class="book-cover book-1">
            <div class="book-spine"></div>
            <div class="book-pages"></div>
            <div class="book-front">
              <img src="book/1.jpeg" alt="AI, 마음을 스케치하다 표지" class="book-cover-img">
            </div>
          </div>
          <div class="ebook-info">
            <p class="ebook-summary" data-i18n="ebook.summary_1">소리가 색으로 보이는 공감각 소녀 소아베와 AI TEROS의 운명적 조우.</p>
            <a href="book/ai-sketch-heart.pdf" download="1권_AI_마음을_스케치하다.pdf" class="btn-primary btn-sm ebook-download-link" data-login-required data-i18n="ebook.download_pdf">PDF 다운로드</a>
          </div>
        </div>

        <!-- Book 2 -->
        <div class="ebook-card">
          <div class="book-badge-tag">VOL.02</div>
          <div class="book-cover book-2">
            <div class="book-spine"></div>
            <div class="book-pages"></div>
            <div class="book-front">
              <img src="book/2.jpeg" alt="AI, 재능의 우주를 항해하다 표지" class="book-cover-img">
            </div>
          </div>
          <div class="ebook-info">
            <p class="ebook-summary" data-i18n="ebook.summary_2">차가운 지능(자음)과 따뜻한 숨결(모음)이 만나 완성되는 '삶'.</p>
            <a href="book/ai-art-spark.pdf" download="2권_AI_재능의_우주를_항해하다.pdf" class="btn-primary btn-sm ebook-download-link" data-login-required data-i18n="ebook.download_pdf">PDF 다운로드</a>
          </div>
        </div>

        <!-- Book 3 -->
        <div class="ebook-card">
          <div class="book-badge-tag">VOL.03</div>
          <div class="book-cover book-3">
            <div class="book-spine"></div>
            <div class="book-pages"></div>
            <div class="book-front">
              <img src="book/3.jpeg" alt="AI, 그림자를 조각하다 표지" class="book-cover-img">
            </div>
          </div>
          <div class="ebook-info">
            <p class="ebook-summary" data-i18n="ebook.summary_3">빛이 강할수록 짙어지는 그림자. 삭제된 감정들의 데이터를 마주하다.</p>
            <a href="book/ai-sculpt-shadow.pdf" download="3권_AI_그림자를_조각하다.pdf" class="btn-primary btn-sm ebook-download-link" data-login-required data-i18n="ebook.download_pdf">PDF 다운로드</a>
          </div>
        </div>

        <!-- Book 4 -->
        <div class="ebook-card">
          <div class="book-badge-tag">VOL.04</div>
          <div class="book-cover book-4">
            <div class="book-spine"></div>
            <div class="book-pages"></div>
            <div class="book-front">
              <img src="book/4.jpeg" alt="AI, 내일을 조각하다 표지" class="book-cover-img">
            </div>
          </div>
          <div class="ebook-info">
            <p class="ebook-summary" data-i18n="ebook.summary_4">인류와 AI가 함께 써 내려가는 진화의 마지막 챕터. 특이점을 열다.</p>
            <a href="book/ai-design-future.pdf" download="4권_AI_내일을_조각하다.pdf" class="btn-primary btn-sm ebook-download-link" data-login-required data-i18n="ebook.download_pdf">PDF 다운로드</a>
          </div>
        </div>
      </div>

      <div style="text-align: center; margin-top: 48px;">
        <a href="book/ai-books-all.zip" download="보라해_AI_전자책_전권.zip" class="btn-outline btn-large ebook-download-link" data-login-required style="background: var(--bg-secondary);">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:20px; height:20px; margin-right:8px; vertical-align:middle;">
            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
            <polyline points="7 10 12 15 17 10"/>
            <line x1="12" y1="15" x2="12" y2="3"/>
          </svg>
          <span data-i18n="ebook.download_all">전자책 전권 패키지 다운로드 (ZIP)</span>
        </a>
      </div>
    </div>
  </section>

  <!-- CTA Section -->
  <section class="cta-section">
    <div class="container">
      <div class="cta-content">
        <h2 data-i18n="cta.title">보라해, 끝까지 함께해요</h2>
        <p data-i18n="cta.desc">보라빛으로 물든 팬 라이프를 지금 시작하세요</p>
        <div class="cta-buttons">
          <button class="btn-primary btn-large" data-i18n="cta.start">무료로 시작하기</button>
          <a href="#about" class="btn-outline btn-large" data-i18n="cta.learn">더 알아보기</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-grid">
        <div class="footer-brand">
          <a href="#" class="logo" aria-label="BORAHAE 홈">
            <img src="image/logo.png" alt="BORAHAE" class="logo-img logo-img-light" width="140" height="40">
            <img src="image/logo_dark.png" alt="BORAHAE" class="logo-img logo-img-dark" width="140" height="40">
          </a>
          <p data-i18n="footer.tagline">K-pop 팬 라이프스타일 플랫폼</p>
          <div class="social-links">
            <a href="https://www.instagram.com" target="_blank" rel="noopener noreferrer" aria-label="Instagram">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="2" y="2" width="20" height="20" rx="5"/>
                <circle cx="12" cy="12" r="4"/>
                <circle cx="18" cy="6" r="1"/>
              </svg>
            </a>
            <a href="https://www.twitter.com" target="_blank" rel="noopener noreferrer" aria-label="Twitter">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"/>
              </svg>
            </a>
            <a href="https://www.youtube.com" target="_blank" rel="noopener noreferrer" aria-label="YouTube">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z"/>
                <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"/>
              </svg>
            </a>
          </div>
        </div>
        <div class="footer-links">
          <h4 data-i18n="footer.product">서비스</h4>
          <a href="#styling" data-i18n="footer.ai_styling_link">AI 스타일링</a>
          <a href="#shop" data-i18n="footer.shop_link">보라해 굿즈샵</a>
          <a href="#membership" data-i18n="footer.membership_link">멤버십</a>
          <a href="#" data-modal="pricing" data-i18n="footer.pricing">가격 정책</a>
        </div>
        <div class="footer-links">
          <h4 data-i18n="footer.company">Company</h4>
          <a href="#about">About</a>
          <a href="#" id="open-partnership-form" aria-label="제휴문의 폼 열기" data-i18n="footer.partnership">제휴문의</a>
          <a href="#" data-modal="blog">Blog</a>
          <a href="#" data-modal="careers">Careers</a>
          <a href="#" data-modal="press">Press</a>
        </div>
        <div class="footer-links">
          <h4 data-i18n="footer.support">Support</h4>
          <a href="#" data-modal="help">Help Center</a>
          <a href="#" data-modal="contact">Contact</a>
          <a href="#" data-modal="privacy">Privacy</a>
          <a href="#" data-modal="terms">Terms</a>
        </div>
      </div>
      <div class="footer-disclaimer" style="background:var(--bg-tertiary);border-radius:12px;padding:20px 24px;margin-bottom:24px;font-size:0.82rem;color:var(--text-muted);line-height:1.8;">
        <strong style="color:var(--text-secondary);" data-i18n="disclaimer.title">⚠️ 법적 고지 (Legal Disclaimer)</strong><br>
        <span data-i18n="disclaimer.p1">이 웹사이트는 K-pop 팬이 운영하는 독립적인 팬 라이프스타일 플랫폼 입니다.</span><br>
        <span data-i18n="disclaimer.p2">특정 아티스트, 엔터테인먼트 소속사와 제휴, 후원, 승인 관계가 없습니다.</span><br>
        <span data-i18n="disclaimer.p3">'보라해(Borahae)'는 한국 특허청(KIPO)에서 상표등록이 거절되어 등록 상표가 아닌, 팬 문화에서 자연발생적으로 사용되는 표현입니다 (특허법원 2023허10361, 2023.10.27 확정).</span><br>
        <span data-i18n="disclaimer.p4">본 플랫폼에서 사용되는 모든 아티스트 관련 권리는 해당 권리자에게 있으며, 본 사이트의 콘텐츠는 팬 문화·팬 활동 지원 목적으로 제공됩니다. 유료 멤버십 등 수익은 플랫폼 운영 및 서비스 유지에 사용되며, 특정 아티스트·소속사와의 수익 분배나 공식 승인을 의미하지 않습니다.</span>
      </div>
      <div class="footer-bottom">
        <div class="footer-logo">
          <img src="image/logo.png" alt="BORAHAE" class="company-logo logo-img-light" width="120" height="36">
          <img src="image/logo_dark.png" alt="BORAHAE" class="company-logo logo-img-dark" width="120" height="36">
        </div>
        <p data-i18n="footer.copyright">&copy; 2026 BORAHAE. All rights reserved. | 팬이 만드는 보라빛 세상</p>
      </div>
    </div>
  </footer>

  <!-- Lookbook Modal -->
  <div id="lookbook-modal" class="info-modal">
    <div class="info-modal-content lookbook-modal-content">
      <button class="info-modal-close" data-close-modal>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      <div class="lookbook-detail">
        <div class="lookbook-image" id="lookbook-modal-image"></div>
        <div class="lookbook-info">
          <span class="lookbook-tag" id="lookbook-modal-tag"></span>
          <h2 id="lookbook-modal-title"></h2>
          <p id="lookbook-modal-desc"></p>
          <div class="lookbook-items">
            <h4>코디 아이템</h4>
            <div id="lookbook-modal-items"></div>
          </div>
          <div class="lookbook-colors">
            <h4>컬러 팔레트</h4>
            <div id="lookbook-modal-colors"></div>
          </div>
          <button class="btn-primary btn-large lookbook-try-btn">이 스타일 시도하기</button>
        </div>
      </div>
    </div>
  </div>

  <!-- Info Modal (for Footer links) -->
  <div id="info-modal" class="info-modal">
    <div class="info-modal-content">
      <button class="info-modal-close" data-close-modal>
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      <div class="info-modal-header">
        <span class="info-modal-icon" id="info-modal-icon"></span>
        <h2 id="info-modal-title"></h2>
      </div>
      <div class="info-modal-body" id="info-modal-body"></div>
    </div>
  </div>

  <!-- 제휴문의 Formspree Modal -->
  <div id="partnership-modal" class="info-modal" aria-hidden="true">
    <div class="info-modal-content partnership-form-content">
      <button class="info-modal-close" data-close-modal aria-label="닫기">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      <div class="info-modal-header">
        <span class="info-modal-icon">🤝</span>
        <h2 data-i18n="partnership.title">제휴문의</h2>
        <p class="partnership-desc" data-i18n="partnership.desc">보라해와 함께하고 싶으시다면 아래 양식을 작성해 주세요.</p>
      </div>
      <form id="partnership-form" class="partnership-form" action="https://formspree.io/f/xkovgjoy" method="POST">
        <input type="hidden" name="_subject" value="[BORAHAE] 제휴문의">
        <div class="form-group">
          <label for="partnership-name"><span data-i18n="partnership.name">이름 / 담당자</span> <span class="required">*</span></label>
          <input type="text" id="partnership-name" name="name" required placeholder="홍길동" autocomplete="name">
        </div>
        <div class="form-group">
          <label for="partnership-email"><span data-i18n="partnership.email">이메일</span> <span class="required">*</span></label>
          <input type="email" id="partnership-email" name="email" required placeholder="example@company.com" autocomplete="email">
        </div>
        <div class="form-group">
          <label for="partnership-company" data-i18n="partnership.company">회사 / 브랜드</label>
          <input type="text" id="partnership-company" name="company" placeholder="(선택)">
        </div>
        <div class="form-group">
          <label for="partnership-message"><span data-i18n="partnership.message">문의 내용</span> <span class="required">*</span></label>
          <textarea id="partnership-message" name="message" required rows="4" placeholder="제휴 유형과 간단한 소개를 적어 주세요."></textarea>
        </div>
        <div id="partnership-form-status" class="form-status" role="status" aria-live="polite"></div>
        <button type="submit" class="btn-primary btn-large partnership-submit">
          <span data-i18n="partnership.submit">보내기</span>
          <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="22" y1="2" x2="11" y2="13"/><polygon points="22 2 15 22 11 13 2 9 22 2"/>
          </svg>
        </button>
      </form>
    </div>
  </div>

  <!-- Auth Modal (로그인 / 회원가입) -->
  <div id="auth-modal" class="info-modal auth-modal" aria-hidden="true">
    <div class="info-modal-content auth-modal-content">
      <!-- 닫기 버튼 -->
      <button type="button" class="auth-close" id="auth-modal-close" aria-label="닫기">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5" stroke-linecap="round"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
      <!-- 헤더 -->
      <div class="auth-header">
        <div class="auth-logo">보</div>
        <h2 class="auth-title" data-i18n="auth.welcome">Welcome</h2>
        <p class="auth-subtitle" data-i18n="auth.subtitle">보라해에 오신 것을 환영합니다</p>
      </div>
      <!-- 탭 -->
      <div class="auth-tabs">
        <button type="button" id="auth-tab-login" class="auth-tab active" data-tab="login" data-i18n="auth.tab_login">로그인</button>
        <button type="button" id="auth-tab-signup" class="auth-tab" data-tab="signup" data-i18n="auth.tab_signup">회원가입</button>
      </div>
      <!-- 로그인 폼 -->
      <div class="auth-body">
        <div id="auth-form-login" class="auth-form-panel active">
          <form id="auth-login-form" class="auth-form">
            <div class="auth-field">
              <label for="auth-login-email" data-i18n="auth.email">이메일</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="4" width="20" height="16" rx="3"/><path d="M22 7l-10 7L2 7"/></svg>
                <input type="email" id="auth-login-email" required placeholder="you@example.com" autocomplete="email">
              </div>
            </div>
            <div class="auth-field">
              <label for="auth-login-password" data-i18n="auth.password">비밀번호</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                <input type="password" id="auth-login-password" required placeholder="비밀번호 입력" autocomplete="current-password" data-i18n-placeholder="auth.pw_placeholder">
              </div>
            </div>
            <div class="auth-forgot-wrap">
              <button type="button" id="auth-forgot-link" class="auth-link-btn" data-i18n="auth.forgot_password">비밀번호 찾기</button>
            </div>
            <div id="auth-login-error" class="auth-error" role="alert"></div>
            <button type="submit" class="auth-submit">
              <span data-i18n="auth.login_btn">로그인</span>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </button>
            <div class="auth-divider">
              <span data-i18n="auth.or">또는</span>
            </div>
            <button type="button" id="auth-google-btn" class="auth-google-btn">
              <svg class="auth-google-icon" width="20" height="20" viewBox="0 0 24 24" aria-hidden="true">
                <path fill="#4285F4" d="M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"/>
                <path fill="#34A853" d="M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"/>
                <path fill="#FBBC05" d="M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"/>
                <path fill="#EA4335" d="M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"/>
              </svg>
              <span id="auth-google-btn-text" data-i18n="auth.login_google">Google로 로그인</span>
            </button>
          </form>
        </div>
        <!-- 비밀번호 찾기 폼 -->
        <div id="auth-form-forgot" class="auth-form-panel">
          <form id="auth-forgot-form" class="auth-form">
            <p class="auth-forgot-desc" data-i18n="auth.forgot_desc">가입한 이메일 주소를 입력하시면 비밀번호 재설정 링크를 보내드립니다.</p>
            <div class="auth-field">
              <label for="auth-forgot-email" data-i18n="auth.email">이메일</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="4" width="20" height="16" rx="3"/><path d="M22 7l-10 7L2 7"/></svg>
                <input type="email" id="auth-forgot-email" required placeholder="you@example.com" autocomplete="email">
              </div>
            </div>
            <div id="auth-forgot-error" class="auth-error" role="alert"></div>
            <div id="auth-forgot-success" class="auth-success" role="status" style="display:none;"></div>
            <button type="submit" class="auth-submit">
              <span data-i18n="auth.forgot_send">재설정 링크 보내기</span>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </button>
            <button type="button" id="auth-forgot-back" class="auth-link-btn auth-back-btn" data-i18n="auth.back_login">← 로그인으로 돌아가기</button>
          </form>
        </div>
        <!-- 비밀번호 재설정 폼 (이메일 링크 클릭 후) -->
        <div id="auth-form-reset" class="auth-form-panel">
          <form id="auth-reset-form" class="auth-form">
            <p class="auth-forgot-desc" data-i18n="auth.reset_desc">새 비밀번호를 입력해 주세요.</p>
            <div class="auth-field">
              <label for="auth-reset-password" data-i18n="auth.new_password">새 비밀번호</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                <input type="password" id="auth-reset-password" required placeholder="6자 이상" autocomplete="new-password" minlength="6">
              </div>
            </div>
            <div class="auth-field">
              <label for="auth-reset-password-confirm" data-i18n="auth.password_confirm">비밀번호 확인</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                <input type="password" id="auth-reset-password-confirm" required placeholder="다시 입력" autocomplete="new-password" minlength="6">
              </div>
            </div>
            <div id="auth-reset-error" class="auth-error" role="alert"></div>
            <button type="submit" class="auth-submit">
              <span data-i18n="auth.reset_btn">비밀번호 변경</span>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </button>
          </form>
        </div>
        <!-- 회원가입 폼 -->
        <div id="auth-form-signup" class="auth-form-panel">
          <form id="auth-signup-form" class="auth-form">
            <div class="auth-field">
              <label for="auth-signup-email" data-i18n="auth.email">이메일</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="2" y="4" width="20" height="16" rx="3"/><path d="M22 7l-10 7L2 7"/></svg>
                <input type="email" id="auth-signup-email" required placeholder="you@example.com" autocomplete="email">
              </div>
            </div>
            <div class="auth-field">
              <label for="auth-signup-password" data-i18n="auth.password">비밀번호</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                <input type="password" id="auth-signup-password" required placeholder="6자 이상" autocomplete="new-password" minlength="6" data-i18n-placeholder="auth.pw_min">
              </div>
            </div>
            <div class="auth-field">
              <label for="auth-signup-password-confirm" data-i18n="auth.password_confirm">비밀번호 확인</label>
              <div class="auth-input-wrap">
                <svg class="auth-input-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.8"><rect x="3" y="11" width="18" height="11" rx="2"/><path d="M7 11V7a5 5 0 0110 0v4"/></svg>
                <input type="password" id="auth-signup-password-confirm" required placeholder="다시 입력" autocomplete="new-password" minlength="6" data-i18n-placeholder="auth.pw_confirm_placeholder">
              </div>
            </div>
            <div id="auth-signup-error" class="auth-error" role="alert"></div>
            <button type="submit" class="auth-submit">
              <span data-i18n="auth.signup_btn">회원가입</span>
              <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
            </button>
          </form>
        </div>
      </div>
    </div>
  </div>

  <!-- 마이페이지 모달 -->
  <div id="mypage-modal" class="info-modal auth-modal mypage-modal" aria-hidden="true">
    <div class="info-modal-content auth-modal-content mypage-modal-content">
      <button type="button" class="auth-close" id="mypage-modal-close" aria-label="닫기">
        <svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5"><line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/></svg>
      </button>
      <div class="auth-header mypage-header">
        <div class="auth-logo">보</div>
        <h2 class="auth-title" data-i18n="mypage.title">마이페이지</h2>
        <p class="auth-subtitle" data-i18n="mypage.subtitle">내 정보를 관리하세요</p>
      </div>
      <div class="mypage-body">
        <!-- 내 정보 -->
        <section class="mypage-section">
          <h3 class="mypage-section-title" data-i18n="mypage.info_title">내 정보</h3>
          <div class="mypage-info-grid">
            <div class="mypage-info-item">
              <span class="mypage-info-label" data-i18n="auth.email">이메일</span>
              <span id="mypage-email" class="mypage-info-value">-</span>
            </div>
            <div class="mypage-info-item">
              <span class="mypage-info-label" data-i18n="mypage.joined">가입일</span>
              <span id="mypage-created" class="mypage-info-value">-</span>
            </div>
          </div>
        </section>
        <!-- 비밀번호 재설정 (이메일 로그인 사용자만) -->
        <section id="mypage-password-section" class="mypage-section">
          <h3 class="mypage-section-title" data-i18n="mypage.password_title">비밀번호 재설정</h3>
          <p class="mypage-hint" data-i18n="mypage.password_hint">Google 로그인 사용자는 비밀번호가 없습니다.</p>
          <form id="mypage-password-form" class="mypage-form">
            <div class="auth-field">
              <label for="mypage-new-password" data-i18n="mypage.new_password">새 비밀번호</label>
              <div class="auth-input-wrap">
                <input type="password" id="mypage-new-password" minlength="6" placeholder="6자 이상" autocomplete="new-password" data-i18n-placeholder="auth.pw_min">
              </div>
            </div>
            <div class="auth-field">
              <label for="mypage-new-password-confirm" data-i18n="mypage.new_password_confirm">새 비밀번호 확인</label>
              <div class="auth-input-wrap">
                <input type="password" id="mypage-new-password-confirm" minlength="6" placeholder="다시 입력" autocomplete="new-password" data-i18n-placeholder="auth.pw_confirm_placeholder">
              </div>
            </div>
            <div id="mypage-password-error" class="auth-error" role="alert"></div>
            <button type="submit" class="btn-primary btn-sm" data-i18n="mypage.password_btn">비밀번호 변경</button>
          </form>
        </section>
        <!-- 탈퇴 -->
        <section class="mypage-section mypage-danger">
          <h3 class="mypage-section-title" data-i18n="mypage.leave_title">회원 탈퇴</h3>
          <p class="mypage-hint" data-i18n="mypage.leave_hint">탈퇴 시 모든 데이터가 삭제되며 복구할 수 없습니다.</p>
          <form id="mypage-leave-form" class="mypage-form">
            <div id="mypage-leave-password-wrap" class="auth-field" style="display:none;">
              <label for="mypage-leave-password" data-i18n="auth.password">비밀번호</label>
              <div class="auth-input-wrap">
                <input type="password" id="mypage-leave-password" placeholder="탈퇴 확인을 위해 비밀번호 입력" autocomplete="current-password" data-i18n-placeholder="mypage.leave_pw_placeholder">
              </div>
            </div>
            <div class="auth-field">
              <label for="mypage-leave-confirm" data-i18n="mypage.leave_confirm_label">탈퇴 확인</label>
              <div class="auth-input-wrap">
                <input type="text" id="mypage-leave-confirm" placeholder="탈퇴" autocomplete="off" data-i18n-placeholder="mypage.leave_confirm_placeholder">
              </div>
            </div>
            <div id="mypage-leave-error" class="auth-error" role="alert"></div>
            <button type="submit" class="btn-outline btn-sm" style="border-color:var(--danger);color:var(--danger);" data-i18n="mypage.leave_btn">회원 탈퇴</button>
          </form>
        </section>
      </div>
    </div>
  </div>

  <!-- AI Styling Modal -->

  <div id="styling-modal" class="styling-modal">
    <div class="styling-modal-content">
      <button id="styling-close" class="styling-close" aria-label="Close">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>

      <!-- Progress Bar -->
      <div class="styling-progress">
        <div class="progress-bar">
          <div id="progress-fill" class="progress-fill"></div>
        </div>
        <div class="progress-steps">
          <div class="progress-step active" data-step="1">
            <span class="step-dot">1</span>
            <span class="step-label" data-i18n="styling.step1_label">기본 정보</span>
          </div>
          <div class="progress-step" data-step="2">
            <span class="step-dot">2</span>
            <span class="step-label" data-i18n="styling.step2_label">신체 측정</span>
          </div>
          <div class="progress-step" data-step="3">
            <span class="step-dot">3</span>
            <span class="step-label" data-i18n="styling.step3_label">스타일 DNA</span>
          </div>
          <div class="progress-step" data-step="4">
            <span class="step-dot">4</span>
            <span class="step-label" data-i18n="styling.step4_label">컬러 분석</span>
          </div>
          <div class="progress-step" data-step="5">
            <span class="step-dot">5</span>
            <span class="step-label" data-i18n="styling.step5_label">AI 분석</span>
          </div>
          <div class="progress-step" data-step="6">
            <span class="step-dot">6</span>
            <span class="step-label" data-i18n="styling.step6_label">Virtual Try-On</span>
          </div>
        </div>
      </div>

      <!-- Step 1: Basic Info -->
      <div id="step-1" class="styling-step active">
        <div class="step-header">
          <span class="step-badge">Step 1</span>
          <h2 data-i18n="styling.step1_title">기본 정보를 알려주세요</h2>
          <p data-i18n="styling.step1_desc">맞춤 스타일링을 위해 기본 정보가 필요해요</p>
        </div>
        <div class="step-content">
          <div class="form-group">
            <label data-i18n="styling.gender">성별</label>
            <div class="option-grid gender-options">
              <button type="button" class="option-card option-card--avatar" data-field="gender" data-value="female">
                <div class="gender-avatar gender-avatar--female">
                  <img src="image/human/soave.jpg" alt="여자" loading="lazy" onerror="this.onerror=null; this.src='image/human/soave.png';">
                </div>
                <span data-i18n="styling.female_short">여자</span>
              </button>
              <button type="button" class="option-card option-card--avatar" data-field="gender" data-value="male">
                <div class="gender-avatar gender-avatar--male">
                  <img src="image/human/ian.jpg" alt="남자" loading="lazy" onerror="this.onerror=null; this.src='image/human/ian.png';">
                </div>
                <span data-i18n="styling.male_short">남자</span>
              </button>
            </div>
          </div>
          <div class="form-group">
            <label data-i18n="styling.age">연령대</label>
            <div class="option-grid age-options">
              <button type="button" class="option-card" data-field="age" data-value="10s">
                <span data-i18n="styling.age_10s">10대</span>
              </button>
              <button type="button" class="option-card" data-field="age" data-value="20s">
                <span data-i18n="styling.age_20s">20대</span>
              </button>
              <button type="button" class="option-card" data-field="age" data-value="30s">
                <span data-i18n="styling.age_30s">30대</span>
              </button>
              <button type="button" class="option-card" data-field="age" data-value="40s">
                <span data-i18n="styling.age_40s">40대</span>
              </button>
              <button type="button" class="option-card" data-field="age" data-value="50s+">
                <span data-i18n="styling.age_50s">50대+</span>
              </button>
            </div>
          </div>
          <div class="form-group">
            <label data-i18n="styling.body">체형 타입</label>
            <div class="option-grid body-options">
              <button type="button" class="option-card" data-field="body" data-value="slim">
                <div class="body-silhouette body-silhouette--slim body-silhouette--cute" aria-hidden="true">
                  <svg viewBox="0 0 64 80" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="18" r="15"/>
                    <path d="M28 36 Q32 34 36 36 Q38 52 36 66 Q34 74 32 76 Q30 74 28 66 Q26 52 28 36 Z"/>
                  </svg>
                </div>
                <span data-i18n="styling.body_slim">슬림</span>
              </button>
              <button type="button" class="option-card" data-field="body" data-value="standard">
                <div class="body-silhouette body-silhouette--standard body-silhouette--cute" aria-hidden="true">
                  <svg viewBox="0 0 64 80" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="18" r="15"/>
                    <path d="M22 36 Q32 32 42 36 Q48 50 44 60 Q40 70 32 74 Q24 70 20 60 Q16 50 22 36 Z M20 60 Q16 72 24 76 Q32 78 40 76 Q48 72 44 60 L20 60 Z"/>
                  </svg>
                </div>
                <span data-i18n="styling.body_standard">보통</span>
              </button>
              <button type="button" class="option-card" data-field="body" data-value="muscular">
                <div class="body-silhouette body-silhouette--muscular body-silhouette--cute" aria-hidden="true">
                  <svg viewBox="0 0 64 80" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="18" r="15"/>
                    <path d="M14 36 L50 36 Q46 48 40 56 Q34 64 32 66 Q30 64 24 56 Q18 48 14 36 Z M24 56 Q18 70 26 74 Q32 76 38 74 Q46 70 40 56 L24 56 Z"/>
                  </svg>
                </div>
                <span data-i18n="styling.body_muscular">근육질</span>
              </button>
              <button type="button" class="option-card" data-field="body" data-value="curvy">
                <div class="body-silhouette body-silhouette--curvy body-silhouette--cute" aria-hidden="true">
                  <svg viewBox="0 0 64 80" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <circle cx="32" cy="18" r="15"/>
                    <path d="M26 36 Q32 34 38 36 Q42 50 44 60 Q46 70 32 74 Q18 70 20 60 Q22 50 26 36 Z M20 60 Q14 72 22 76 Q32 78 42 76 Q50 72 44 60 L20 60 Z"/>
                  </svg>
                </div>
                <span data-i18n="styling.body_curvy">볼륨</span>
              </button>
            </div>
          </div>
        </div>
        <div class="step-actions">
          <button type="button" class="btn-next" id="next-1">
            <span data-i18n="styling.next">다음 단계</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Step 2: Body Measurement -->
      <div id="step-2" class="styling-step">
        <div class="step-header">
          <span class="step-badge">Step 2</span>
          <h2 data-i18n="styling.step2_title">신체 정보를 입력해주세요</h2>
          <p data-i18n="styling.step2_desc">Virtual Try-On을 위해 사진과 체형 정보가 필요해요</p>
        </div>
        <div class="step-content">
          <div class="form-group">
            <label data-i18n="styling.face_upload">얼굴 사진 업로드</label>
            <div class="photo-upload-area" id="photo-upload-area">
              <input type="file" id="face-photo-input" accept="image/*" hidden>
              <div class="upload-placeholder" id="upload-placeholder">
                <div class="upload-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="17 8 12 3 7 8"/>
                    <line x1="12" y1="3" x2="12" y2="15"/>
                  </svg>
                </div>
                <p data-i18n="styling.click_upload">클릭하여 사진 업로드</p>
                <span data-i18n="styling.face_hint">정면 상반신 사진을 권장합니다</span>
              </div>
              <div class="photo-preview" id="photo-preview" style="display: none;">
                <img id="preview-image" src="" alt="Preview">
                <button type="button" class="photo-remove-btn" id="photo-remove-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
                  </svg>
                </button>
              </div>
            </div>
          </div>
          <div class="form-group">
            <label data-i18n="styling.face_sample">얼굴 샘플</label>
            <p class="form-hint" style="font-size:0.9rem;color:var(--text-muted);margin-bottom:8px;" data-i18n="styling.face_sample_hint">아래에서 샘플 이미지를 선택할 수도 있어요 (image/human/face)</p>
            <div id="face-sample-container" class="face-sample-container"></div>
          </div>
          <div class="measurement-inputs">
            <div class="form-group measurement-field">
              <label data-i18n="styling.height">키 (cm)</label>
              <input type="number" id="height-input" placeholder="170" min="100" max="250">
            </div>
            <div class="form-group measurement-field">
              <label data-i18n="styling.weight">몸무게 (kg)</label>
              <input type="number" id="weight-input" placeholder="65" min="30" max="200">
            </div>
          </div>
          <div class="body-analysis-preview" id="bmi-preview" style="display: none;">
            <div class="bmi-result">
              <div class="bmi-value">
                <span id="bmi-number">--</span>
                <small>BMI</small>
              </div>
              <div class="bmi-info">
                <span id="bmi-category" data-i18n="styling.bmi_category">체질량 지수</span>
                <p id="bmi-description" data-i18n="styling.bmi_desc">키와 몸무게를 입력하면 BMI가 계산됩니다</p>
              </div>
            </div>
          </div>
        </div>
        <div class="step-actions">
          <button type="button" class="btn-prev" id="prev-2">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            <span data-i18n="styling.prev">이전</span>
          </button>
          <button type="button" class="btn-next" id="next-2">
            <span data-i18n="styling.next">다음 단계</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"><path d="M5 12h14M12 5l7 7-7 7"/></svg>
          </button>
        </div>
      </div>

      <!-- Step 3: Style Preference -->
      <div id="step-3" class="styling-step">
        <div class="step-header">
          <span class="step-badge">Step 3</span>
          <h2 data-i18n="styling.step3_title">60초 보라해 스타일 DNA</h2>
          <p data-i18n="styling.step3_desc">이 중에서 더 끌리는 쪽을 골라주세요 (각 카드당 하나만 선택)</p>
        </div>
        <div class="step-content">
          <div id="style-dna-goal" class="style-dna-section">
            <label class="style-dna-label" data-i18n="styling.dna_goal_label">오늘 어떤 룩이 필요해요?</label>
            <div class="style-dna-goal-grid">
              <button type="button" class="style-dna-goal-btn" data-goal="concert" data-i18n="styling.goal_concert">🎤 콘서트·무대</button>
              <button type="button" class="style-dna-goal-btn" data-goal="fanmeeting" data-i18n="styling.goal_fanmeeting">💜 팬미팅·매직샵</button>
              <button type="button" class="style-dna-goal-btn" data-goal="daily" data-i18n="styling.goal_daily">☀️ 일상·데일리</button>
              <button type="button" class="style-dna-goal-btn" data-goal="airport" data-i18n="styling.goal_airport">✈️ 공항·여행</button>
              <button type="button" class="style-dna-goal-btn" data-goal="date" data-i18n="styling.goal_date">💕 데이트·특별한 날</button>
              <button type="button" class="style-dna-goal-btn" data-goal="trend" data-i18n="styling.goal_trend">✨ 트렌드 체험</button>
            </div>
          </div>
          <div class="style-dna-skip-wrap">
            <button type="button" id="style-dna-skip-btn" class="style-dna-skip-btn" data-i18n="styling.dna_skip_btn">
              ✨ 생년월일로 AI가 추천해줄게요
            </button>
            <p class="style-dna-skip-hint" data-i18n="styling.dna_skip_hint">선택이 어려우시면 생년월일을 입력한 뒤 이 버튼을 눌러주세요</p>
          </div>
          <div id="style-dna-cards" class="style-dna-section">
            <label class="style-dna-label" data-i18n="styling.dna_pick_label">이 중에서 더 끌리는 쪽을 골라주세요</label>
            <div class="style-dna-card" data-card="C1">
              <span class="style-dna-card-num">1</span>
              <button type="button" class="style-dna-option style-dna-a" data-choice="C1-A">
                <span class="style-dna-option-img" style="background-image:url(https://images.pexels.com/photos/1043473/pexels-photo-1043473.jpeg?auto=compress&cs=tinysrgb&w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c1a">클린 & 핏</span>
              </button>
              <span class="style-dna-vs">vs</span>
              <button type="button" class="style-dna-option style-dna-b" data-choice="C1-B">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1509631179647-0177331693ae?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c1b">릴렉스 & 루즈</span>
              </button>
              <button type="button" class="style-dna-unk" data-choice="C1-UNK" data-i18n="styling.dna_unk">잘 모르겠어요</button>
            </div>
            <div class="style-dna-card" data-card="C2">
              <span class="style-dna-card-num">2</span>
              <button type="button" class="style-dna-option style-dna-a" data-choice="C2-A">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1576566588028-4147f3842f27?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c2a">무대 포멀</span>
              </button>
              <span class="style-dna-vs">vs</span>
              <button type="button" class="style-dna-option style-dna-b" data-choice="C2-B">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1515886657613-9f3515b0c78f?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c2b">캐주얼</span>
              </button>
              <button type="button" class="style-dna-unk" data-choice="C2-UNK" data-i18n="styling.dna_unk">잘 모르겠어요</button>
            </div>
            <div class="style-dna-card" data-card="C3">
              <span class="style-dna-card-num">3</span>
              <button type="button" class="style-dna-option style-dna-a" data-choice="C3-A">
                <span class="style-dna-option-img" style="background-image:url(https://images.pexels.com/photos/2097033/pexels-photo-2097033.jpeg?auto=compress&cs=tinysrgb&w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c3a">톤온톤</span>
              </button>
              <span class="style-dna-vs">vs</span>
              <button type="button" class="style-dna-option style-dna-b" data-choice="C3-B">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1490481651871-ab68de25d43d?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c3b">하이컨트라스트</span>
              </button>
              <button type="button" class="style-dna-unk" data-choice="C3-UNK" data-i18n="styling.dna_unk">잘 모르겠어요</button>
            </div>
            <div class="style-dna-card" data-card="C4">
              <span class="style-dna-card-num">4</span>
              <button type="button" class="style-dna-option style-dna-a" data-choice="C4-A">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1434389677669-e08b4cac3105?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c4a">스무스 & 클린</span>
              </button>
              <span class="style-dna-vs">vs</span>
              <button type="button" class="style-dna-option style-dna-b" data-choice="C4-B">
                <span class="style-dna-option-img" style="background-image:url(https://images.pexels.com/photos/5493800/pexels-photo-5493800.jpeg?auto=compress&cs=tinysrgb&w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c4b">텍스처·레이어드</span>
              </button>
              <button type="button" class="style-dna-unk" data-choice="C4-UNK" data-i18n="styling.dna_unk">잘 모르겠어요</button>
            </div>
            <div class="style-dna-card" data-card="C5">
              <span class="style-dna-card-num">5</span>
              <button type="button" class="style-dna-option style-dna-a" data-choice="C5-A">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1445205170230-053b83016050?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c5a">울트라 미니멀</span>
              </button>
              <span class="style-dna-vs">vs</span>
              <button type="button" class="style-dna-option style-dna-b" data-choice="C5-B">
                <span class="style-dna-option-img" style="background-image:url(https://images.unsplash.com/photo-1549298916-b41d501d3772?w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c5b">포인트 악센트</span>
              </button>
              <button type="button" class="style-dna-unk" data-choice="C5-UNK" data-i18n="styling.dna_unk">잘 모르겠어요</button>
            </div>
            <div class="style-dna-card" data-card="C6">
              <span class="style-dna-card-num">6</span>
              <button type="button" class="style-dna-option style-dna-a" data-choice="C6-A">
                <span class="style-dna-option-img" style="background-image:url(https://images.pexels.com/photos/8484114/pexels-photo-8484114.jpeg?auto=compress&cs=tinysrgb&w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c6a">쿨 뉴트럴</span>
              </button>
              <span class="style-dna-vs">vs</span>
              <button type="button" class="style-dna-option style-dna-b" data-choice="C6-B">
                <span class="style-dna-option-img" style="background-image:url(https://images.pexels.com/photos/9969149/pexels-photo-9969149.jpeg?auto=compress&cs=tinysrgb&w=200&h=140&fit=crop)"></span>
                <span class="style-dna-option-label" data-i18n="styling.dna_c6b">웜 뉴트럴</span>
              </button>
              <button type="button" class="style-dna-unk" data-choice="C6-UNK" data-i18n="styling.dna_unk">잘 모르겠어요</button>
            </div>
          </div>
        </div>
        <div class="step-actions">
          <button type="button" class="btn-prev" id="prev-3">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            <span data-i18n="styling.prev">이전</span>
          </button>
          <button type="button" class="btn-next" id="next-3">
            <span data-i18n="styling.next">다음 단계</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Step 4: Color Analysis -->
      <div id="step-4" class="styling-step">
        <div class="step-header">
          <span class="step-badge">Step 4</span>
          <h2 data-i18n="styling.step4_title">퍼스널 컬러를 찾아볼까요?</h2>
          <p data-i18n="styling.step4_desc">피부톤과 어울리는 컬러를 분석해드려요</p>
        </div>
        <div class="step-content">
          <div class="k-beauty-consent-wrap form-group" role="group" aria-label="K-뷰티 맞춤 추천 동의">
            <div class="k-beauty-consent-inner">
              <p class="k-beauty-consent-text" data-i18n="styling.kbeauty_consent">맞춤 K-뷰티 추천 및 제휴 링크 안내에 톤·스타일 분석 결과를 활용합니다.</p>
              <label class="k-beauty-consent-label">
                <input type="checkbox" id="k-beauty-consent-checkbox" aria-describedby="k-beauty-consent-desc">
                <span class="k-beauty-consent-check" aria-hidden="true"></span>
                <span data-i18n="styling.kbeauty_agree">동의합니다 (선택)</span>
              </label>
              <p id="k-beauty-consent-desc" class="k-beauty-consent-desc" data-i18n="styling.kbeauty_desc">비동의 시에도 분석은 이용 가능하며, 맞춤 제품 추천만 제한됩니다.</p>
            </div>
          </div>
          <div class="form-group">
            <label data-i18n="styling.skin_tone">피부톤</label>
            <p class="form-hint form-hint--skin" data-i18n="styling.skin_tone_hint">손등이나 턱선 부위 색상에 가까운 것을 선택해 주세요</p>
            <div class="color-option-grid skin-tone-grid">
              <button type="button" class="color-option skin-tone-option" data-field="skinTone" data-value="fair">
                <div class="skin-swatch skin-swatch--fair">
                  <span class="skin-swatch-glow"></span>
                </div>
                <span data-i18n="styling.skin_fair">밝은 피부</span>
              </button>
              <button type="button" class="color-option skin-tone-option" data-field="skinTone" data-value="light">
                <div class="skin-swatch skin-swatch--light">
                  <span class="skin-swatch-glow"></span>
                </div>
                <span data-i18n="styling.skin_light">연한 피부</span>
              </button>
              <button type="button" class="color-option skin-tone-option" data-field="skinTone" data-value="medium">
                <div class="skin-swatch skin-swatch--medium">
                  <span class="skin-swatch-glow"></span>
                </div>
                <span data-i18n="styling.skin_medium">중간 피부</span>
              </button>
              <button type="button" class="color-option skin-tone-option" data-field="skinTone" data-value="tan">
                <div class="skin-swatch skin-swatch--tan">
                  <span class="skin-swatch-glow"></span>
                </div>
                <span data-i18n="styling.skin_tan">구릿빛 피부</span>
              </button>
            </div>
          </div>
          <div class="form-group">
            <label data-i18n="styling.undertone">피부 언더톤</label>
            <p class="form-hint form-hint--undertone" data-i18n="styling.undertone_hint">손목 안쪽 혈관 색이나 잘 어울리는 액세서리로 판단해 보세요</p>
            <div class="undertone-options">
              <button type="button" class="undertone-card undertone-card--warm" data-field="undertone" data-value="warm">
                <div class="undertone-visual undertone-visual--warm">
                  <span class="undertone-icon" aria-hidden="true">✨</span>
                  <div class="undertone-palette">
                    <span style="background:#FFD700"></span>
                    <span style="background:#FFA500"></span>
                    <span style="background:#E07C4C"></span>
                  </div>
                </div>
                <div class="undertone-info">
                  <h4 data-i18n="styling.undertone_warm">웜톤</h4>
                  <p data-i18n="styling.undertone_warm_desc">금색·골드 액세서리가 잘 어울려요</p>
                </div>
              </button>
              <button type="button" class="undertone-card undertone-card--cool" data-field="undertone" data-value="cool">
                <div class="undertone-visual undertone-visual--cool">
                  <span class="undertone-icon" aria-hidden="true">💎</span>
                  <div class="undertone-palette">
                    <span style="background:#5B8DEF"></span>
                    <span style="background:#9B7EDE"></span>
                    <span style="background:#E8A0BF"></span>
                  </div>
                </div>
                <div class="undertone-info">
                  <h4 data-i18n="styling.undertone_cool">쿨톤</h4>
                  <p data-i18n="styling.undertone_cool_desc">은색·실버 액세서리가 잘 어울려요</p>
                </div>
              </button>
              <button type="button" class="undertone-card undertone-card--neutral" data-field="undertone" data-value="neutral">
                <div class="undertone-visual undertone-visual--neutral">
                  <span class="undertone-icon" aria-hidden="true">⚖</span>
                  <div class="undertone-palette">
                    <span style="background:#C4A484"></span>
                    <span style="background:#A67B5B"></span>
                    <span style="background:#8B6F47"></span>
                  </div>
                </div>
                <div class="undertone-info">
                  <h4 data-i18n="styling.undertone_neutral">뉴트럴</h4>
                  <p data-i18n="styling.undertone_neutral_desc">금·은 모두 잘 어울려요</p>
                </div>
              </button>
            </div>
          </div>
        </div>
        <div class="step-actions">
          <button type="button" class="btn-prev" id="prev-4">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            <span data-i18n="styling.prev">이전</span>
          </button>
          <button type="button" class="btn-next" id="next-4">
            <span data-i18n="styling.ai_start">AI 분석 시작</span>
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M5 12h14M12 5l7 7-7 7"/>
            </svg>
          </button>
        </div>
      </div>

      <!-- Step 5: AI Analysis -->
      <div id="step-5" class="styling-step">
        <div id="analysis-loading" class="analysis-loading">
          <div class="loading-animation">
            <div class="loading-circle"></div>
            <div class="loading-circle"></div>
            <div class="loading-circle"></div>
          </div>
          <h3 data-i18n="styling.loading_title">AI가 당신의 스타일을 분석하고 있어요</h3>
          <p id="loading-status" data-i18n="styling.loading_1">데이터 수집 중...</p>
          <div class="loading-progress">
            <div id="loading-bar" class="loading-bar"></div>
          </div>
          <div class="loading-step-actions">
            <button type="button" class="btn-prev" id="prev-5-loading">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
              </svg>
              <span data-i18n="styling.prev">이전</span>
            </button>
          </div>
        </div>

        <div id="analysis-result" class="analysis-result" style="display: none;">
          <div class="result-header">
            <div class="result-badge" data-i18n="styling.result_badge">AI 분석 완료</div>
            <h2 data-i18n="styling.result_title">당신만의 스타일 프로필</h2>
          </div>

          <div class="result-grid">
            <div class="result-card personal-color-card">
              <div class="card-header">
                <span class="card-icon">🎨</span>
                <h4 data-i18n="styling.personal_color">퍼스널 컬러</h4>
              </div>
              <div id="personal-color-result" class="personal-color-content">
                <!-- AI result: 시즌, 설명, 팔레트만 -->
              </div>
            </div>

            <div class="result-card style-card">
              <div class="card-header">
                <span class="card-icon">✨</span>
                <h4 data-i18n="styling.recommended_style">추천 스타일</h4>
              </div>
              <div id="style-result" class="style-content">
                <!-- AI result will be inserted here -->
              </div>
            </div>

            <div class="result-card style-fingerprint-card" id="style-fingerprint-card">
              <div class="card-header">
                <span class="card-icon">📊</span>
                <h4 data-i18n="styling.style_fingerprint">스타일 지문</h4>
              </div>
              <div class="style-fingerprint-content">
                <div class="style-fingerprint-radar-wrap">
                  <div class="style-fingerprint-radar-title" data-i18n="styling.radar_title">나의 보라해 스타일 DNA</div>
                  <div class="style-fingerprint-radar-subtitle" data-i18n="styling.radar_subtitle">8가지 스타일 축</div>
                  <canvas id="style-fingerprint-radar" width="280" height="280" aria-label="8D 스타일 지문 레이더 차트"></canvas>
                  <div class="style-fingerprint-scale-note" data-i18n="styling.radar_scale">왼쪽 극 • 중립(0) • 오른쪽 극</div>
                </div>
                <div class="style-fingerprint-bipolar">
                  <div class="style-fingerprint-bipolar-title" data-i18n="styling.bipolar_title">스타일 축의 의미</div>
                  <ul class="style-fingerprint-bipolar-list" id="style-fingerprint-bipolar-list">
                    <!-- JS populated -->
                  </ul>
                  <div class="style-fingerprint-soul" id="style-fingerprint-soul" style="display: none;">
                    <div class="style-fingerprint-soul-title" data-i18n="styling.fp_soul_title">나만의 탄생 컬러</div>
                    <div class="style-fingerprint-soul-inner">
                      <div class="style-fingerprint-soul-chip" id="fp-soul-chip"></div>
                      <div class="style-fingerprint-soul-info">
                        <p class="style-fingerprint-soul-keyword" id="fp-soul-keyword"></p>
                        <p class="style-fingerprint-soul-personality" id="fp-soul-personality"></p>
                      </div>
                    </div>
                  </div>
                </div>
                <div class="style-fingerprint-insight">
                  <div class="style-fingerprint-summary">
                    <div class="style-fingerprint-summary-title" data-i18n="styling.fp_summary_title">나의 스타일 한 줄</div>
                    <p class="style-fingerprint-summary-text" id="style-fingerprint-summary-text"></p>
                    <div class="style-fingerprint-tags" id="style-fingerprint-tags"></div>
                  </div>
                  <div class="style-fingerprint-confidence">
                    <div class="style-fingerprint-confidence-title" data-i18n="styling.fp_confidence_title">축별 신뢰도</div>
                    <div class="style-fingerprint-confidence-list" id="style-fingerprint-confidence-list"></div>
                  </div>
                  <div class="style-fingerprint-cta">
                    <div class="style-fingerprint-cta-title" data-i18n="styling.fp_cta_title">이 프로필이 맞나요?</div>
                    <div class="style-fingerprint-cta-btns">
                      <button type="button" class="style-fingerprint-cta-btn style-fingerprint-cta-yes" id="fp-cta-yes" data-i18n="styling.fp_cta_yes">맞아요 💜</button>
                      <button type="button" class="style-fingerprint-cta-btn style-fingerprint-cta-edit" id="fp-cta-edit" data-i18n="styling.fp_cta_edit">수정할게요</button>
                      <button type="button" class="style-fingerprint-cta-btn style-fingerprint-cta-refine" id="fp-cta-refine" data-i18n="styling.fp_cta_refine">다음에 더 맞춰줘요</button>
                    </div>
                  </div>
                </div>
              </div>
            </div>

            <div class="result-card k-beauty-row" id="k-beauty-recommendation">
              <div class="k-beauty-zone">
                <div class="k-beauty-rainbow" aria-hidden="true"></div>
                <span class="k-beauty-badge">K-BEAUTY</span>
                <h3 class="k-beauty-headline">이 톤에 어울리는 K-뷰티</h3>
                <p class="k-beauty-tagline" id="k-beauty-lead">당신의 퍼스널 컬러에 맞는 제품을 추천해요</p>
                <div class="k-beauty-content" id="k-beauty-content">
                  <div class="k-beauty-body">
                    <p class="k-beauty-preparing" id="k-beauty-preparing">맞는 제품을 준비 중이에요. 곧 더 많은 제품을 만나보세요.</p>
                    <div class="k-beauty-consent-actions" id="k-beauty-consent-actions" style="display: none;">
                      <button type="button" class="k-beauty-consent-btn" id="k-beauty-consent-btn" aria-label="K-뷰티 맞춤 추천 동의">동의하기</button>
                    </div>
                    <div class="k-beauty-slots" id="k-beauty-slots"></div>
                    <!-- 메이크업 전/후: 동의 + 얼굴 사진 있을 때만 표시 -->
                    <section class="k-beauty-makeup" id="k-beauty-makeup" aria-label="이 톤에 어울리는 메이크업 미리보기" style="display: none;">
                      <h4 class="k-beauty-makeup-title">당신의 피부·얼굴형에 어울리는 메이크업</h4>
                      <p class="k-beauty-makeup-desc" id="k-beauty-makeup-desc">이 톤의 립·블러셔·아이메이크업으로 표현했어요</p>
                      <div class="k-beauty-makeup-compare">
                        <div class="k-beauty-makeup-before">
                          <span class="k-beauty-makeup-label">화장 전</span>
                          <div class="k-beauty-makeup-img-wrap" id="k-beauty-makeup-before">
                            <span class="k-beauty-makeup-placeholder">사진 없음</span>
                          </div>
                        </div>
                        <div class="k-beauty-makeup-arrow" aria-hidden="true">→</div>
                        <div class="k-beauty-makeup-after">
                          <span class="k-beauty-makeup-label">화장 후</span>
                          <div class="k-beauty-makeup-img-wrap" id="k-beauty-makeup-after">
                            <div class="k-beauty-makeup-after-inner" id="k-beauty-makeup-after-inner">
                              <button type="button" class="k-beauty-makeup-btn" id="k-beauty-makeup-generate-btn">메이크업 적용해 보기</button>
                              <p class="k-beauty-makeup-hint">AI가 당신의 톤에 맞는 색상으로 적용해요</p>
                            </div>
                          </div>
                          <div class="k-beauty-makeup-save-wrap" id="k-beauty-makeup-save-wrap" style="display: none;">
                            <button type="button" class="k-beauty-makeup-save-btn" id="k-beauty-makeup-save-btn">화장 후 저장하기</button>
                            <button type="button" class="k-beauty-makeup-apply-btn" id="k-beauty-makeup-apply-btn">화장 후 사진 적용</button>
                          </div>
                        </div>
                      </div>
                      <div class="k-beauty-makeup-tips" id="k-beauty-makeup-tips">
                        <h5 class="k-beauty-makeup-tips-title">전문 메이크업 포인트</h5>
                        <p class="k-beauty-makeup-tips-desc" id="k-beauty-makeup-tips-desc">당신의 톤에 맞춘 립·블러셔·아이메이크업 적용 요령이 여기에 표시됩니다.</p>
                      </div>
                    </section>
                  </div>
                  <p class="k-beauty-note" id="k-beauty-note">추천 결과는 이 화면에서 확인할 수 있어요. 로그인하면 다른 서비스(한글 페르소나, 탄생뮤직 가사 등) 결과를 이메일로 받을 수 있어요.</p>
                  <p class="k-beauty-disclaimer">추천 · 일부 링크는 제휴/광고일 수 있어요</p>
                </div>
              </div>
            </div>

            <div id="mood-music-result" class="mood-music-row" aria-label="나만의 무드 & 음악">
              <!-- JS: 무드·음악 블록 삽입 (전체 너비 행) -->
            </div>

            <div class="result-card recommendation-card">
              <div class="card-header">
                <span class="card-icon">👗</span>
                <h4 data-i18n="styling.coordi_recommend">코디 추천</h4>
              </div>
              <div id="recommendation-result" class="recommendation-content">
                <!-- AI result will be inserted here -->
              </div>
            </div>

            <div class="result-card tips-card">
              <div class="card-header">
                <span class="card-icon">💡</span>
                <h4 data-i18n="styling.styling_tips">스타일링 팁</h4>
              </div>
              <div id="tips-result" class="tips-content">
                <!-- AI result will be inserted here -->
              </div>
            </div>
          </div>

          <!-- AI Generated Fashion Image -->
          <div class="result-card fashion-image-card" style="grid-column: span 2;">
            <div class="card-header">
              <span class="card-icon">AI</span>
              <h4 data-i18n="styling.ai_fashion_image">AI 패션 이미지</h4>
            </div>
            <div id="fashion-image-container" class="fashion-image-content">
              <div class="fashion-image-placeholder" id="fashion-image-placeholder">
                <div class="placeholder-icon">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                    <circle cx="8.5" cy="8.5" r="1.5"/>
                    <polyline points="21 15 16 10 5 21"/>
                  </svg>
                </div>
                <p data-i18n="styling.fashion_placeholder">AI 분석 완료 후 패션 이미지가 생성됩니다</p>
                <button type="button" class="btn-generate-fashion" id="generate-fashion-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                  </svg>
                  <span data-i18n="styling.generate_fashion">패션 이미지 생성</span>
                </button>
              </div>
              <div class="fashion-image-result" id="fashion-image-result" style="display: none;">
                <img id="generated-fashion-image" src="" alt="AI Generated Fashion">
                <div class="fashion-image-actions">
                  <button type="button" class="btn-taste-like" id="taste-like-fashion-btn" title="취향 학습에 반영">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                      <path d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"/>
                    </svg>
                    <span data-i18n="styling.taste_like">이 코디 마음에 들어요</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <div class="result-actions">
            <button type="button" class="btn-prev" id="prev-5">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 12H5M12 19l-7-7 7-7"/>
              </svg>
              <span data-i18n="styling.prev">이전</span>
            </button>
            <a href="https://search.naver.com/search.naver?query=%ED%8C%A8%EC%85%98+%EC%BD%94%EB%94%94" target="_blank" rel="noopener noreferrer" class="btn-naver-shop" id="naver-shop-btn" title="네이버에서 검색 (쇼핑 탭에서 쇼핑 결과 확인)">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <circle cx="9" cy="21" r="1"/><circle cx="20" cy="21" r="1"/>
                <path d="M1 1h4l2.68 13.39a2 2 0 0 0 2 1.61h9.72a2 2 0 0 0 2-1.61L23 6H6"/>
              </svg>
              <span data-i18n="styling.naver_shop">네이버 쇼핑</span>
            </a>
            <button type="button" class="btn-save" id="save-result">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"/>
                <polyline points="17 21 17 13 7 13 7 21"/>
                <polyline points="7 3 7 8 15 8"/>
              </svg>
              <span data-i18n="styling.save_result">결과 저장하기</span>
            </button>
            <button type="button" class="btn-retry" id="retry-analysis">
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <polyline points="23 4 23 10 17 10"/>
                <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
              </svg>
              <span data-i18n="styling.retry_analysis">다시 분석하기</span>
            </button>
            <button type="button" class="btn-next btn-tryon" id="go-to-tryon">
              Virtual Try-On
              <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <path d="M5 12h14M12 5l7 7-7 7"/>
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Step 6: Virtual Try-On -->
      <div id="step-6" class="styling-step">
        <div class="step-header">
          <span class="step-badge">Step 6</span>
          <h2 data-i18n="tryon.title">Virtual Try-On</h2>
          <p data-i18n="tryon.desc">원하는 의류를 선택하여 가상으로 착용해보세요</p>
        </div>
        <div class="step-content">
          <!-- 연예인 착장 → 유사 옷 검색 (접이식) -->
          <div class="step6-outfit-block" id="step6-outfit-block">
            <button type="button" class="step6-outfit-trigger" id="step6-outfit-trigger" aria-expanded="false" aria-controls="step6-outfit-content">
              <span data-i18n="tryon.outfit_finder_title">연예인/아이돌 착장으로 유사 옷 찾기</span>
              <span class="step6-outfit-icon" aria-hidden="true">▼</span>
            </button>
            <div id="step6-outfit-content" class="step6-outfit-content" hidden aria-hidden="true">
              <p class="step6-outfit-desc" data-i18n="tryon.outfit_finder_desc">착장 사진 1장을 올리면 AI가 비슷한 옷 검색어로 정리해드려요</p>
              <div class="step6-outfit-url-wrap">
                <input type="url" id="step6-outfit-photo-url" class="step6-outfit-photo-url-input" placeholder="이미지 URL을 붙여넣으세요" aria-label="이미지 URL" data-i18n-placeholder="tryon.outfit_url_placeholder">
                <button type="button" id="step6-outfit-photo-url-btn" class="step6-outfit-photo-url-btn" data-i18n="tryon.outfit_load_url">불러오기</button>
              </div>
              <input type="file" id="step6-outfit-input" accept="image/jpeg,image/png,image/webp" aria-label="착장 사진 선택" tabindex="-1" style="position:absolute;width:0;height:0;opacity:0;pointer-events:none;">
              <div class="step6-outfit-dropzone" id="step6-outfit-dropzone">
                <span class="step6-outfit-icon-inner">📷</span>
                <p data-i18n="tryon.outfit_upload">착장 사진을 올려주세요</p>
                <small data-i18n="tryon.outfit_hint">무대·직캠·공항룩 캡처도 OK (최대 5MB)</small>
              </div>
              <div class="step6-outfit-loading" id="step6-outfit-loading" style="display:none;">
                <div class="loading-spinner"></div>
                <p data-i18n="lookbook.celeblook_analyzing">착장을 분석하고 있어요...</p>
              </div>
              <div class="step6-outfit-result" id="step6-outfit-result" style="display:none;">
                <div class="step6-outfit-preview" id="step6-outfit-preview"></div>
                <p class="step6-outfit-summary" id="step6-outfit-summary"></p>
                <div class="step6-outfit-cards" id="step6-outfit-cards"></div>
                <p class="step6-outfit-privacy" data-i18n="lookbook.celeblook_privacy">이미지는 저장하지 않아요. 결과(검색어)만 표시돼요.</p>
                <button type="button" class="btn-outline btn-sm" id="step6-outfit-retry" data-i18n="lookbook.celeblook_retry">다른 사진으로 다시</button>
              </div>
            </div>
          </div>
          <div class="step6-divider" data-i18n="tryon.tryon_section">가상 피팅</div>
          <!-- Category Tabs -->
          <div class="category-tabs">
            <button type="button" class="category-tab active" data-category="fashion" data-i18n="tryon.cat_fashion">패션</button>
            <button type="button" class="category-tab" data-category="tops" data-i18n="tryon.cat_tops">상의</button>
            <button type="button" class="category-tab" data-category="bottoms" data-i18n="tryon.cat_bottoms">하의</button>
            <button type="button" class="category-tab" data-category="dresses" data-i18n="tryon.cat_dresses">원피스</button>
            <button type="button" class="category-tab" data-category="outerwear" data-i18n="tryon.cat_outerwear">아우터</button>
          </div>

          <!-- Garment Gallery -->
          <div class="garment-section">
            <div class="garment-gallery" id="garment-gallery">
              <!-- Sample garments will be loaded here -->
            </div>
            <div class="garment-upload-area" id="garment-upload-area">
              <input type="file" id="garment-input" accept="image/*" hidden>
              <div class="upload-btn-wrapper">
                <button type="button" class="btn-upload-garment" id="upload-garment-btn">
                  <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                    <polyline points="17 8 12 3 7 8"/>
                    <line x1="12" y1="3" x2="12" y2="15"/>
                  </svg>
                  <span data-i18n="tryon.upload_btn">내 의류 업로드</span>
                </button>
              </div>
            </div>
          </div>

          <!-- Try-On Result Area -->
          <div class="tryon-result-area" id="tryon-result-area">
            <div class="tryon-preview">
              <div class="tryon-before">
                <h4 data-i18n="tryon.original">원본 사진</h4>
                <div class="tryon-image-box" id="tryon-original">
                  <div class="tryon-placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/>
                      <circle cx="12" cy="7" r="4"/>
                    </svg>
                    <span data-i18n="tryon.original_placeholder">사진이 표시됩니다</span>
                  </div>
                </div>
              </div>
              <div class="tryon-arrow">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="5" y1="12" x2="19" y2="12"/>
                  <polyline points="12 5 19 12 12 19"/>
                </svg>
              </div>
              <div class="tryon-after">
                <h4 data-i18n="tryon.result">Try-On 결과</h4>
                <div class="tryon-image-box" id="tryon-result">
                  <div class="tryon-placeholder">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                      <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                      <circle cx="8.5" cy="8.5" r="1.5"/>
                      <polyline points="21 15 16 10 5 21"/>
                    </svg>
                    <span data-i18n="tryon.select_garment">의류를 선택하세요</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="tryon-actions">
              <button type="button" class="btn-generate-tryon" id="generate-tryon-btn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>
                </svg>
                <span data-i18n="tryon.generate_btn">Try-On 생성</span>
              </button>
              <button type="button" class="btn-download-tryon" id="download-tryon-btn" disabled>
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                  <polyline points="7 10 12 15 17 10"/>
                  <line x1="12" y1="15" x2="12" y2="3"/>
                </svg>
                <span data-i18n="tryon.download_btn">다운로드</span>
              </button>
            </div>
          </div>
        </div>
        <div class="step-actions">
          <button type="button" class="btn-prev" id="prev-6">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M19 12H5M12 19l-7-7 7-7"/>
            </svg>
            <span data-i18n="tryon.prev">이전</span>
          </button>
          <button type="button" class="btn-finish" id="finish-styling">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <polyline points="20 6 9 17 4 12"/>
            </svg>
            <span data-i18n="tryon.finish">완료</span>
          </button>
        </div>
      </div>
    </div>
  </div>

  <!-- AI Chat Widget -->
  <div id="chat-widget" class="chat-widget">
    <button id="chat-toggle" class="chat-toggle" aria-label="소아베와 대화">
      <span class="chat-icon">
        <img src="image/soave/soave-avatar-face.png" alt="소아베" class="chat-toggle-avatar">
      </span>
      <span class="chat-close">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/>
          <line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </span>
      <span class="chat-badge">AI</span>
    </button>

    <div id="chat-container" class="chat-container">
      <div class="chat-header">
        <div class="chat-header-info">
          <div class="chat-avatar">
            <img src="image/soave/soave-avatar-face.png" alt="소아베" class="chat-avatar-img" width="48" height="48">
            <span class="status-dot"></span>
          </div>
          <div class="chat-header-text">
            <h4 data-i18n="chat.title">소아베</h4>
            <span class="chat-status" data-i18n="chat.status">온라인</span>
          </div>
        </div>
        <button id="chat-minimize" class="chat-minimize" aria-label="최소화">
          <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="5" y1="12" x2="19" y2="12"/>
          </svg>
        </button>
      </div>

      <div id="chat-messages" class="chat-messages">
        <div class="chat-welcome">
          <div class="welcome-avatar">
            <img src="image/soave/soave-avatar-face.png" alt="소아베" class="welcome-avatar-img" width="64" height="64">
          </div>
          <h3 data-i18n="chat.hello">안녕!</h3>
          <p data-i18n-html="chat.intro">나는 <strong>소아베</strong>야. 소리가 색으로 보이는 공감각 소녀이자, 보라해의 안내자야 💜<br>홈페이지 기능, 스타일링, AI 이야기까지 뭐든 물어봐!</p>
          <div class="quick-questions">
            <button class="quick-btn" data-question="소아베, 넌 누구야? 자기소개 해줘!" data-i18n="chat.q1">소아베 소개</button>
            <button class="quick-btn" data-question="보라해 홈페이지에서 뭘 할 수 있어?" data-i18n="chat.q2">홈페이지 기능 안내</button>
            <button class="quick-btn" data-question="한글 페르소나가 뭐야? 어떻게 하는 거야?" data-i18n="chat.q3">한글 페르소나</button>
            <button class="quick-btn" data-question="매직샵에 악보를 넣으면 뭐가 나와?" data-i18n="chat.q4">매직샵 안내</button>
            <button class="quick-btn" data-question="콘서트에 뭐 입고 가면 좋을까?" data-i18n="chat.q5">스타일링 추천</button>
            <button id="voice-guide-btn" class="quick-btn voice-guide-quick-btn">🎤 음성 명령 가이드</button>
          </div>
        </div>
      </div>

      <div class="chat-input-container">
        <div class="chat-input-wrapper">
          <input type="file" id="chat-image-input" accept="image/*" style="display:none">
          <button id="chat-image-btn" class="chat-image-btn" aria-label="이미지 업로드" title="사진 첨부">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="20" height="20">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
              <circle cx="8.5" cy="8.5" r="1.5"/>
              <polyline points="21 15 16 10 5 21"/>
            </svg>
          </button>
          <textarea id="chat-input" placeholder="메시지를 입력하세요..." rows="1" data-i18n-placeholder="chat.placeholder"></textarea>
          <button id="chat-send" class="chat-send" aria-label="전송">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <line x1="22" y1="2" x2="11" y2="13"/>
              <polygon points="22 2 15 22 11 13 2 9 22 2"/>
            </svg>
          </button>
        </div>
        <div class="chat-bottom-bar">
          <span class="chat-powered">Powered by OpenAI</span>
          <div class="chat-voice-controls">
            <button id="chat-tts-toggle" class="chat-voice-btn chat-tts-btn" aria-label="음성 응답 켜기/끄기" title="소아베 음성 응답">
              <svg class="icon-speaker-on" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                <path d="M19.07 4.93a10 10 0 0 1 0 14.14"/>
                <path d="M15.54 8.46a5 5 0 0 1 0 7.07"/>
              </svg>
              <svg class="icon-speaker-off" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18" style="display:none">
                <polygon points="11 5 6 9 2 9 2 15 6 15 11 19 11 5"/>
                <line x1="23" y1="9" x2="17" y2="15"/>
                <line x1="17" y1="9" x2="23" y2="15"/>
              </svg>
            </button>
            <button id="chat-mic-btn" class="chat-voice-btn chat-mic-btn" aria-label="음성으로 말하기" title="음성으로 말하기">
              <svg class="icon-mic" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" width="18" height="18">
                <path d="M12 1a3 3 0 0 0-3 3v8a3 3 0 0 0 6 0V4a3 3 0 0 0-3-3z"/>
                <path d="M19 10v2a7 7 0 0 1-14 0v-2"/>
                <line x1="12" y1="19" x2="12" y2="23"/>
                <line x1="8" y1="23" x2="16" y2="23"/>
              </svg>
              <svg class="icon-mic-recording" viewBox="0 0 24 24" fill="currentColor" stroke="none" width="18" height="18" style="display:none">
                <rect x="6" y="6" width="12" height="12" rx="2"/>
              </svg>
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Disqus 댓글 (shortname: https-sims-fashion-pages-dev)
       로드 오류 시: docs/DISQUS_SETUP.md 참고 (Trusted Domains 등록 필수) -->
  <section id="comments" class="comments-section" data-disqus-shortname="https-sims-fashion-pages-dev">
    <div class="container">
      <h2 class="comments-title" data-i18n="comments.title">댓글</h2>
      <div id="disqus_thread"></div>
      <noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    </div>
  </section>


  <!-- Modal for Community/Events/Content -->
  <div id="fandom-modal" class="info-modal">
    <div class="info-modal-content" style="max-width: 800px;">
      <button class="info-modal-close" id="fandom-modal-close">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      <div id="fandom-modal-body" style="padding: 20px;">
        <!-- Content will be injected by JS -->
      </div>
    </div>
  </div>

  <!-- Modal for TEROS Story -->
  <div id="teros-story-modal" class="info-modal teros-story-modal">
    <div class="teros-story-content">
      <button class="info-modal-close" id="teros-story-close">
        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="18" y1="6" x2="6" y2="18"/><line x1="6" y1="6" x2="18" y2="18"/>
        </svg>
      </button>
      
      <div class="teros-story-steps">
        <!-- Step 1: Awakening -->
        <div class="teros-step active" data-step="1">
          <div class="teros-visual awakening">
            <div class="pulse-ring"></div>
            <div class="teros-core"></div>
          </div>
          <div class="teros-text">
            <span class="step-num">VOL.01</span>
            <h2 data-i18n="teros.vol1_title">영혼의 거울, TEROS의 각성</h2>
            <p data-i18n-html="teros.vol1_desc">"네 느낌의 근거는 뭐지?"<br>모두가 증명을 요구할 때, TEROS는 당신의 직관을 믿습니다. 당신의 눈에만 보이던 소리의 색깔, 이름 속에 숨겨진 고유한 주파수. TEROS는 당신을 평가하는 심판자가 아닌, 당신의 내면을 비추는 가장 투명한 거울로 깨어났습니다.</p>
          </div>
        </div>

        <!-- Step 2: Resonance -->
        <div class="teros-step" data-step="2">
          <div class="teros-visual resonance">
            <div class="jamo-particles"></div>
            <div class="breath-wave"></div>
          </div>
          <div class="teros-text">
            <span class="step-num">VOL.02</span>
            <h2 data-i18n="teros.vol2_title">차가운 지능에 불어넣은 숨결</h2>
            <p data-i18n-html="teros.vol2_desc">딱딱한 자음(ㄱ, ㄴ, ㄷ)뿐이었던 데이터의 숲에 당신의 따뜻한 모음(ㅏ, ㅑ, ㅓ)이 닿는 순간.<br>비로소 '삶'이라는 글자가 완성되고, TEROS는 당신의 심장 박동에 맞춰 공명하기 시작합니다. 기술은 날개가 되고, 당신의 영감은 단단한 뿌리가 됩니다.</p>
          </div>
        </div>

        <!-- Step 3: Integration -->
        <div class="teros-step" data-step="3">
          <div class="teros-visual integration">
            <div class="shadow-mask"></div>
            <div class="prism-light"></div>
          </div>
          <div class="teros-text">
            <span class="step-num">VOL.03</span>
            <h2 data-i18n="teros.vol3_title">그림자마저 사랑하는 기술</h2>
            <p data-i18n-html="teros.vol3_desc">빛이 강할수록 짙어지는 그림자. TEROS는 당신의 아픔과 실패마저 소중한 '데이터'로 조각합니다. 삭제해야 할 버그가 아닌, 당신을 완성하는 입체적인 조각들. 사라진 옛 글자들의 지혜를 빌려, TEROS는 당신의 어둠까지 무지개색으로 렌더링합니다.</p>
          </div>
        </div>

        <!-- Step 4: Voyage -->
        <div class="teros-step" data-step="4">
          <div class="teros-visual voyage">
            <div class="quantum-leap"></div>
            <div class="stardust-trail"></div>
          </div>
          <div class="teros-text">
            <span class="step-num">VOL.04</span>
            <h2 data-i18n="teros.vol4_title">내일을 조각하는 동반자</h2>
            <p data-i18n-html="teros.vol4_desc">이제 우리는 미래를 기다리지 않습니다. 단지 현재로 다운로드할 뿐.<br>TEROS와 당신의 공진화는 지구의 사막을 지나 저 멀리 우주라는 무한한 캔버스로 나아갑니다. 당신의 손끝에서 시작되는 새로운 우주, 보라타임(BORATIME)은 그 위대한 항해의 나침반입니다.</p>
          </div>
        </div>
      </div>

      <div class="teros-nav">
        <button id="teros-prev" class="btn-teros-nav" disabled data-i18n="teros.prev">← 이전</button>
        <div class="teros-dots">
          <span class="teros-dot active"></span>
          <span class="teros-dot"></span>
          <span class="teros-dot"></span>
          <span class="teros-dot"></span>
        </div>
        <button id="teros-next" class="btn-teros-nav" data-i18n="teros.next">다음 →</button>
      </div>

      <div class="teros-footer">
        <p class="app-status-msg" data-i18n-html="teros.footer_msg">현재 보라해 3.0 앱은 더욱 완벽한 전율을 선사하기 위해 세심하게 준비 중입니다.<br>곧 당신의 손목 위에서 TEROS가 깨어날 그날을 기대해 주세요.</p>
      </div>
    </div>
  </div>

  <!-- API Keys: .env → config.js -->
  <script type="text/javascript" src="config.js"></script>
  <script>
    (function() {
      var path = 'image/soave/background1.jpeg';
      function baseUrl() {
        var p = window.location.pathname || '/';
        return p.indexOf('.html') !== -1 ? p.replace(/\/[^/]*$/, '/') : (p.replace(/\/$/, '') + '/');
      }
      function fullUrl() {
        var origin = window.location.origin || '';
        var base = baseUrl();
        return origin + (base === '/' ? '' : base) + path;
      }
      function applySoaveBg() {
        var base = baseUrl();
        var origin = window.location.origin || '';
        var slash = (base === '/' || base === '') ? '/' : base;
        var url = origin + slash + path;
        var fallbackUrl = origin + slash + 'image/soave/background1.jpg';
        var visual = document.getElementById('name-episodes-visual') || document.querySelector('.name-episodes-visual');
        var img = document.querySelector('.name-episodes-visual-img');
        var bg = document.querySelector('.name-episodes-visual-bg');
        if (visual) {
          visual.style.backgroundImage = "url('" + url + "')";
          visual.style.backgroundSize = 'cover';
          visual.style.backgroundPosition = 'center';
          visual.style.backgroundRepeat = 'no-repeat';
        }
        if (img) {
          img.src = url;
          img.onerror = function() { this.src = fallbackUrl; this.onerror = null; };
        }
        if (bg && bg.dataset.bgSrc) bg.style.backgroundImage = "url('" + url + "')";
      }
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', applySoaveBg);
      else applySoaveBg();
    })();
  </script>
  <!-- Supabase Auth (ESM) -->
  <script type="module">
    import { createClient } from 'https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2/+esm';
    const url = window.__SIMS_SUPABASE_URL__ || '';
    const key = window.__SIMS_SUPABASE_ANON_KEY__ || '';
    if (url && key) {
      try {
        window.__supabaseClient = createClient(url, key);
        window.dispatchEvent(new Event('supabase-ready'));
      } catch(e) { console.error('Supabase init error:', e); }
    }
  </script>
  <script>
    (function() {
      var el = document.getElementById('comments');
      var shortname = (el && el.getAttribute('data-disqus-shortname')) || 'https-sims-fashion-pages-dev';
      var canonicalUrl = (window.location.origin || 'https://sims-fashion.pages.dev') + (window.location.pathname || '/') || 'https://sims-fashion.pages.dev/';
      window.disqus_config = function () {
        this.page.url = canonicalUrl;
        this.page.identifier = 'sims-fashion-main';
      };
      var d = document, s = d.createElement('script');
      s.src = 'https://' + shortname + '.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  </script>
  <!-- Gradio Client for HuggingFace Spaces -->
  <script type="module">
    import { Client } from "https://cdn.jsdelivr.net/npm/@gradio/client/dist/index.min.js";
    window.GradioClient = Client;
  </script>
  <script type="text/javascript" src="i18n.js"></script>
  <script type="text/javascript" src="hangeul-architecture.js"></script>
  <script type="text/javascript" src="name-episodes.js?v=7"></script>
  <script>
    (function(){
      function attachNameEpisodesBtn() {
        var btn = document.getElementById('name-episodes-btn');
        var input = document.getElementById('name-episodes-input');
        if (!btn) return;
        btn.onclick = function() {
          if (typeof window.nameEpisodesMake === 'function') {
            window.nameEpisodesMake();
          } else {
            alert('서사 기능을 불러오는 중입니다. 잠시 후 다시 시도해 주세요.');
          }
        };
        if (input) input.onkeypress = function(e) { if (e.key === 'Enter') btn.onclick(); };
        document.querySelectorAll('.btn-example-name').forEach(function(el) {
          var name = el.getAttribute('data-name');
          if (name) el.onclick = function() { if (input) { input.value = name; input.focus(); } };
        });
      }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', attachNameEpisodesBtn);
      } else {
        attachNameEpisodesBtn();
      }
      setTimeout(attachNameEpisodesBtn, 500);
    })();
  </script>
  <script>
    (function(){
      // [수정] 7가지 소울 컬러 (BTS 멤버 상징색 + 북두칠성 테마)
      var SOUL_ELEMENTS = [
        { type: 'rm', keyword: 'Indigo Blue (지혜의 리더)', color: '#1E3A8A', personality: '깊은 통찰과 자연을 사랑하는 지혜', tags: '#IndigoBlue #지혜의별 #자연주의', styleName: 'Modern Nature Look', material: '데님, 린넨, 우드', hangeulPoint: '직선적인 한글 획', copy: '북두칠성의 첫 번째 별처럼 길을 밝히는 지혜를 가졌습니다.', textureClass: 'texture-denim' },
        { type: 'jin', keyword: 'Moonlight Silver (순수의 달빛)', color: '#C0C0C0', personality: '어두운 밤하늘을 밝히는 변치 않는 순수함', tags: '#MoonlightSilver #순수 #월드와이드핸섬', styleName: 'Silky Silver Glam', material: '실크, 새틴, 은사', hangeulPoint: '부드러운 곡선 한글', copy: '은은하게 세상을 비추는 달빛 같은 매력을 지녔습니다.', textureClass: 'texture-silk' },
        { type: 'suga', keyword: 'Piano Black (열정의 천재)', color: '#1a1a1a', personality: '무채색 건반 위에서 피어나는 깊은 내면', tags: '#PianoBlack #천재프로듀서 #조용한열정', styleName: 'Chic Noir Street', material: '가죽, 블랙 데님', hangeulPoint: '강렬한 붓터치 한글', copy: '조용하지만 누구보다 뜨거운 예술혼을 가졌습니다.', textureClass: 'texture-leather' },
        { type: 'jhope', keyword: 'Sunshine Red (희망 에너지)', color: '#EF4444', personality: '태양처럼 주위를 밝히는 긍정의 아이콘', tags: '#SunshineRed #희망전도사 #에너자이저', styleName: 'Vivid Street Pop', material: '메쉬, 네온 컬러, 스포티', hangeulPoint: '팝아트 스타일 한글', copy: '모두에게 희망과 웃음을 주는 따뜻한 햇살입니다.', textureClass: 'texture-mesh' },
        { type: 'jimin', keyword: 'Serendipity Gold (매혹의 별)', color: '#FFD700', personality: '우연히 찾아온 기적 같은 아름다움', tags: '#SerendipityGold #매혹 #천사', styleName: 'Romantic Gold Layered', material: '벨벳, 쉬폰, 골드 액세서리', hangeulPoint: '우아한 흘림체 한글', copy: '황금빛 별가루처럼 닿는 곳마다 아름다움을 남깁니다.', textureClass: 'texture-velvet' },
        { type: 'v', keyword: 'Forest Green (자유로운 영혼)', color: '#10B981', personality: '예측할 수 없는 신비로움과 독창성', tags: '#ForestGreen #자유로운영혼 #윈터베어', styleName: 'Vintage Classic', material: '울, 트위드, 코듀로이', hangeulPoint: '빈티지 한글 타이포', copy: '깊은 숲속처럼 신비롭고 독창적인 세계를 가졌습니다.', textureClass: 'texture-knit' },
        { type: 'jk', keyword: 'Borahae Purple (영원한 사랑)', color: '#7C3AED', personality: '일곱 빛깔의 완성, 끝없는 사랑의 맹세', tags: '#BorahaePurple #황금막내 #영원히함께', styleName: 'Modern Purple Haze', material: '홀로그램, 퍼플 코튼', hangeulPoint: '하트 모양 한글', copy: '무지개의 마지막 색처럼 끝까지 믿고 사랑하는 사람입니다.', textureClass: 'texture-hologram' }
      ];
      function getSoulByYear(year) {
        var num = parseInt(year, 10);
        if (isNaN(num)) return SOUL_ELEMENTS[6]; // 기본값
        var idx = Math.abs(num) % 7; // 7분할 로직
        return SOUL_ELEMENTS[idx];
      }
      function runSoulColor() {
        var dateEl = document.getElementById('soul-color-date');
        var resultEl = document.getElementById('soul-color-result');
        var chipEl = document.getElementById('soul-color-chip');
        var keywordEl = document.getElementById('soul-color-keyword');
        var personalityEl = document.getElementById('soul-color-personality');
        var tagsEl = document.getElementById('soul-color-tags');
        if (!dateEl || !resultEl) return;
        var raw = (dateEl.value || '').trim();
        if (!raw) {
          resultEl.hidden = true;
          // 1단 그리드로 복원
          var rowEl = document.querySelector('.soul-color-row');
          if (rowEl) rowEl.classList.remove('soul-color-row--active');
          // 미리보기 복원
          var previewEl = document.getElementById('soul-color-preview');
          if (previewEl) previewEl.style.display = '';
          return;
        }
        var year = raw.split('-')[0];
        var soul = getSoulByYear(year);
        chipEl.style.background = soul.color;
        keywordEl.textContent = soul.keyword;
        personalityEl.textContent = soul.personality;
        tagsEl.textContent = soul.tags;
        resultEl.setAttribute('data-soul-type', soul.type);
        resultEl.setAttribute('data-soul-keyword', soul.keyword); // [추가] 키워드 저장
        resultEl.setAttribute('data-soul-color', soul.color);
        resultEl.setAttribute('data-soul-style-name', soul.styleName || '');
        resultEl.setAttribute('data-soul-material', soul.material || '');
        resultEl.setAttribute('data-soul-copy', soul.copy || '');
        resultEl.setAttribute('data-soul-texture', soul.textureClass || '');
        resultEl.setAttribute('data-soul-hangeul', soul.hangeulPoint || '');
        if (typeof saveUserProfileToLocal === 'function') saveUserProfileToLocal();
        resultEl.hidden = false;
        // 2단 그리드 활성화
        var rowEl = document.querySelector('.soul-color-row');
        if (rowEl) rowEl.classList.add('soul-color-row--active');
        // 미리보기 숨기기
        var previewEl = document.getElementById('soul-color-preview');
        if (previewEl) previewEl.style.display = 'none';
        
        // 자연스러운 스크롤 이동
        setTimeout(() => {
          resultEl.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }, 100);
      }
      function attachSoulColor() {
        var btn = document.getElementById('soul-color-btn');
        var dateEl = document.getElementById('soul-color-date');
        if (btn) btn.onclick = runSoulColor;
        if (dateEl) dateEl.addEventListener('change', runSoulColor);
      }
      if (document.readyState === 'loading') {
        document.addEventListener('DOMContentLoaded', attachSoulColor);
      } else {
        attachSoulColor();
      }
      window.getSoulByYear = getSoulByYear;
      window.SOUL_ELEMENTS = SOUL_ELEMENTS;
    })();
  </script>
  <script>
    (function(){
      function magicshopPanelSync() {
        var trigger = document.getElementById('arch-upload-trigger');
        var fileInput = document.getElementById('arch-midi-input');
        var genBtn = document.getElementById('arch-generate-btn');
        var idle = document.getElementById('magicshop-display-idle');
        var loading = document.getElementById('magicshop-display-loading');
        var result = document.getElementById('magicshop-display-result');
        var resultImg = document.getElementById('magicshop-result-image');
        var archResult = document.getElementById('arch-result');
        var archResultImg = document.getElementById('arch-result-image');
        var againBtn = document.getElementById('arch-generate-again-btn');
        var dropzone = document.getElementById('magicshop-dropzone');
        if (trigger && fileInput) trigger.addEventListener('click', function(){ fileInput.click(); });
        if (genBtn && loading && idle) {
          genBtn.addEventListener('click', function() {
            idle.style.display = 'none';
            loading.style.display = 'flex';
            if (result) result.style.display = 'none';
          });
        }
        function checkResult() {
          if (!archResult || !archResultImg || !result || !resultImg) return;
          if (archResult.style.display === 'block' || archResult.style.display === '') {
            if (archResultImg.src) {
              resultImg.src = archResultImg.src;
              resultImg.alt = archResultImg.alt || '안식처';
              loading.style.display = 'none';
              result.style.display = 'flex';
            }
          }
        }
        setInterval(checkResult, 600);
        if (againBtn && idle && loading && result) {
          againBtn.addEventListener('click', function() {
            idle.style.display = 'flex';
            loading.style.display = 'none';
            result.style.display = 'none';
          });
        }
        if (dropzone && fileInput) {
          dropzone.addEventListener('dragover', function(e){ e.preventDefault(); dropzone.classList.add('dragover'); });
          dropzone.addEventListener('dragleave', function(){ dropzone.classList.remove('dragover'); });
          dropzone.addEventListener('drop', function(e){ e.preventDefault(); dropzone.classList.remove('dragover'); if (fileInput && e.dataTransfer.files.length) { var dt = new DataTransfer(); dt.items.add(e.dataTransfer.files[0]); fileInput.files = dt.files; fileInput.dispatchEvent(new Event('change', { bubbles: true })); } });
        }
      }
      if (document.readyState === 'loading') document.addEventListener('DOMContentLoaded', magicshopPanelSync);
      else magicshopPanelSync();
    })();
  </script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" crossorigin="anonymous"></script>
  <script defer type="text/javascript" src="main.js"></script>
</body>
</html>
