# Cursor 리오픈 위험요소 분석 (코드베이스 전체)

분석 기준: 워크스페이스 `d:\AI\borahae2` 전체 스캔  
생성일: 2026-02-19

---

## 적용 전·후 용량 및 리오픈 감소 효과 (정량)

| 구분 | 적용 전 | 적용 후 | 변화 |
|------|---------|---------|------|
| **워크스페이스 전체** | **약 2.18 GB** (파일 약 1,230개) | **약 1.96 GB** (파일 1,231개) | **약 −220 MB** (이미지 최적화 215 MB + 정리) |
| **Git 저장소(푸시 용량)** | **약 2.18 GB** (dist 포함) | **약 0.83 GB** (dist 제외, 641개 파일만 추적) | **약 −1.35 GB (−62%)** |
| **이미지·문서 최적화** | — | **401개 이미지** 처리 | **약 215 MB 절감** (원본 덮어쓰기) |

### 리오픈 감소 효과 (정량)

| 지표 | 적용 전 | 적용 후 | 효과 |
|------|---------|---------|------|
| **Cursor 인덱싱 대상 용량** | **약 2.18 GB** (전체 워크스페이스) | **약 0.1 GB 이하** (코드·문서만, 미디어·dist 제외) | **약 95% 감소** |
| **Cursor 인덱싱 대상 파일 수** | **약 1,230개** | **약 150개 내외** (dist 590개 + image 등 대용량 미디어 제외) | **약 88% 감소** |
| **중복 대용량** | **image + dist 2벌** (동일 에셋 2배 감시) | **dist 제외** (Git·인덱싱 1벌만) | **대용량 중복 50% 제거** |

- **근거:** `.cursorignore`로 `dist/`, `**/*.mp4`, `**/image/**/*.jpeg` 등 제외 → Cursor가 인덱싱·미리보기하는 데이터가 코드·문서 위주로 제한됨.  
- **로딩 속도:** 변경 없음(같은 출처·같은 CDN 유지).

---

## 요약

| 구분 | 수치 |
|------|------|
| 전체 파일 수 | 1,225개 |
| 워크스페이스 총 용량 | **2.17 GB** |
| 10MB 이상 파일 | **20개** (동일 파일이 image + dist에 2벌씩 있으면 10쌍) |
| 20MB 이상 25MB 미만 | **2개 경로** (소스·dist 각 1개 = 22.89MB mp4) |
| 25MB 이상 (Cloudflare 한도 초과) | 0개 (이미 9.mp4 제거됨) |

---

## 리오픈 위험요소 우선순위표

| 순위 | 위험요소 | 유형 | 설명 | 권장 조치 |
|------|----------|------|------|------------|
| **1** | **20~25MB 영상 파일** | 대용량 미디어 | `image/soave/ani/ani_han/2 (1).mp4` **(22.89 MB)**. Cloudflare 25MB 한도 근접, Cursor 인덱싱·미리보기 시 메모리 급증 가능. | 압축(해상도·비트레이트 조정)하여 **25MB 미만**으로 유지하거나, `.cursorignore`에 해당 경로 추가. |
| **2** | **dist/ 폴더가 워크스페이스에 포함** | 중복 대용량 | `dist/`가 Git·워크스페이스에 포함되어 **image/와 동일한 대용량 파일이 2벌** 존재. 인덱싱·파일 감시가 2배로 일어남. | `.gitignore`에서 `# dist/` 주석 해제해 **dist를 Git에서 제외**. 배포는 Cloudflare 빌드(`npm run build` → `dist`)로만 사용. |
| **3** | **10MB 이상 파일 20개** | 대용량 미디어 다수 | mp4, zip, jpeg, pdf 등 10~23MB 파일이 **image + dist**에 산재. 여러 개가 동시에 열리거나 인덱싱되면 메모리 부담. | `.cursorignore`에 `**/image/**/*.mp4`, `**/dist/`, `**/*.zip`, `**/book/*.pdf` 등 추가해 Cursor가 인덱싱/미리보기하지 않도록 제한. |
| **4** | **워크스페이스 총 용량 2.17GB** | 전체 규모 | 파일 1,225개·2.17GB. 대부분 이미지·동영상·PDF. Cursor가 전체를 감시·인덱싱하면 메모리·디스크 I/O 부담. | 위 2·3번 적용 후, 불필요한 에셋은 외부 스토리지(CDN·클라우드)로 이전 검토. |
| **5** | **초대형 소스 파일 (8,000줄 이상)** | 대형 텍스트 | `style.css` **8,519줄**, `main.js` **6,256줄**. 한 번에 열면 메모리·렌더링 부담. | 단순 열기만으로는 리오픈 직접 원인은 적으나, 필요 시 모듈/파일 분리로 크기 축소 검토. |
| **6** | **.cursorignore 부재** | 설정 | 대용량·미디어 폴더를 Cursor 인덱싱에서 제외하는 설정이 없음. | `.cursorignore` 생성 후 `dist/`, `image/**/*.mp4`, `image/**/*.jpeg` 등 추가. |
| **7** | **대형 HTML (2,900줄)** | 대형 텍스트 | `index.html` **2,923줄**. | 5번과 동일. 필수 시에만 열고, 가능하면 컴포넌트/템플릿 분리 검토. |

---

## 위험요소별 상세

### 1순위: 20~25MB 파일 (즉시 조치 권장)

| 경로 | 크기 | 비고 |
|------|------|------|
| `image/soave/ani/ani_han/2 (1).mp4` | **22.89 MB** | Cloudflare 25MB 한도 근접, 배포 시 주의 |
| `dist/image/soave/ani/ani_han/2 (1).mp4` | **22.89 MB** | 위와 동일 파일의 빌드 복사본 |

### 2순위: dist 포함으로 인한 중복

- `.gitignore`에 `# dist/`로 **주석 처리**되어 있어 **dist가 Git에 커밋됨**.
- `npm run build` 시 image·book·movie 등이 dist로 복사되므로 **대용량 파일이 소스 + dist 2벌**로 존재.
- Cursor가 두 트리 모두 감시·인덱싱하므로 **메모리·I/O 2배 부담**.

### 3순위: 10MB 이상 파일 목록 (일부)

| 대표 경로 (image 또는 dist) | 크기(MB) |
|-----------------------------|----------|
| ani_han/2 (4).mp4 | 19.09 |
| book/ai-books-all.zip | 18.67 |
| goodz/…/a3.jpeg, a.jpeg | 13.77, 12.46 |
| contents/run/all.jpeg | 11.34 |
| movie/soave1.mp4 | 11.01 |
| soave/ani_han/2 (3).mp4 | 10.9 |
| runway/runwayuse/33.jfif | 10.16 |
| 기타 image/soave, image/runway, image/name 등 다수 | 5~10 |

---

## 권장 조치 요약 (우선순위 순)

1. **`.cursorignore` 생성**  
   - `dist/`, `**/image/**/*.mp4`, `**/image/**/*.jpeg`, `**/*.zip`, `**/book/*.pdf` 등 추가.
2. **dist를 Git에서 제외**  
   - `.gitignore`에서 `# dist/` 주석 해제 → `dist/` 추가.  
   - 이미 Cloudflare 빌드에서 `npm run build` → `dist` 사용 중이므로 배포에는 영향 없음.
3. **22.89MB mp4 압축**  
   - `image/soave/ani/ani_han/2 (1).mp4`를 25MB 미만(가능하면 15MB 이하)으로 인코딩.
4. **(선택)** 대형 소스 파일 분리  
   - `style.css`, `main.js` 등은 필요 시 모듈/파일 단위로 분할 검토.

이 문서는 코드베이스 스캔 결과를 바탕으로 작성되었으며, 실제 리오픈은 Cursor 버전·시스템 메모리·디스크 상태에 따라 달라질 수 있습니다.
